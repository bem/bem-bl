block('b-link')(

    tag()('a'),

    attrs()(function () {
        var ctx = this.ctx,
            props = ['title', 'target'],
            p = typeof ctx.url,
            a = {
                  href: ((p === 'undefined' || p === 'string') ? ctx.url :
                      (p = [], apply('', {_buf: p, ctx: ctx.url}),
                          p.join('')))
                };

        while(p = props.pop()) ctx[p] && (a[p] = ctx[p]);

        return a;
    })

)
