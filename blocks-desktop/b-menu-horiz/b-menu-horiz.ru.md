##Описание
Блок **b-menu-horiz** создаёт **HTML**-разметку для горизонтального меню. Кроме того, у блока есть **JavaScript**-функциональность, позволяющая создавать скрипты с реакцией на выбор пункта меню.

Сложность **HTML**-разметки меню зависит от модификатора, с которым используется блок.

**Важно:** Блок не может использоваться без модификатора `layout`.

Модификатор блока `layout` реализован с тремя возможными значениями:

 * `horiz`
 * `complex`
 * `normal`
 
###Варианты использования 
 * Простое горизонтальное меню списком
 * Горизонтальное меню с клиентской функциональностью
 * Меню без подмешивания блока i-bem 
 * Горизонтальное меню простыми ссылками

##Объявление блока на странице
Описанные ниже варианты деклараций блока в BEMJSON-файле представлены в разделе "Примеры".

##Элементы блока

###__item
Элемент меню  
`{ elem: 'item' }`
Содержанием элементов меню может быть что угодно: ссылки на страницы, псевдоссылки, иконки и вообще любые блоки.

###__title
Элемент служит для отображения заголовка меню. 
`{ elem: 'title' }`
В **BEMJSON** необходимо указать свойство `title`.

```js
{
  block: 'b-menu-vert',
  title: {
    elem: 'title',
    content: 'Menu title'
  },
  content: { ... }
}
```
###__separator
Специальный символ, который разделяет пункты меню
`{ elem: 'separator' }`

###__item-selector

##Модификаторы

###_layout
`_layout_complex`  
Горизонтальное меню с табличной разметкой  
`{ mods: { 'layout': 'complex' } }`  
Использование блока с модификатором `{ layout: 'complex' }` принципиально ничем не отличается. Для блока в такой модификации создаётся разметка на основе таблицы. Такое решение может потребоваться при некоторых дизайнах.

###_layout_normal
**Простое горизонтальное меню списком**  
`{ mods: { 'layout': 'normal' } }`  
Входные данные для блока с любым из этих модификаторов похожи: нужно описать блок, модификатор `layout`, в качестве свойства `content` блока перечислить пункты меню, которые выражаются элементами `item`.

```
{
  block: 'b-menu-horiz',
  mods: { layout: 'normal' },
  content: [
    {
      elem: 'item',
      content: 'Home'
    },
    {
      elem: 'item',
      content: 'Office'
    },
    ...
  ]
}
```

Не всегда меню на сайте подразумевает ссылки, уводящие пользователя на другую страницу. Меню может использоваться и для клиентского JavaScript-приложения. В этом случае содержанием пунктов меню обычно бывают псевдоссылки:

```
{
    elem: 'item',
    elemMods: { 'state' : 'current' },
        content: {
        block: 'b-link',
        mods : { 'pseudo' : 'yes' },
        url: '/',
        content: 'First point'
    }
}
```

**Горизонтальное меню с клиентской функциональностью**

Не всегда меню на сайте подразумевает ссылки, уводящие пользователя на другую страницу. Меню может использоваться и для клиентского JavaScript-приложения. В этом случае содержанием пунктов меню обычно бывают псевдоссылки:

```
{
  block: 'b-menu-horiz',
  mods: { layout: 'normal' },
  title: {
    elem: 'title', content: 'Navigation:'
  },
  content: [
    {
      elem: 'item',
      elemMods: { state: 'current' },
      content: {
        block: 'b-link',
        mods: { pseudo: 'yes' },
        url: '/',
        content: 'Home'
      }
    },
    { ... }
  ]
}
```
Приведённый выше BEMJSON блока обеспечит нужный внешний вид.
Кроме этого нужно, чтобы у меню были области, реагирующие на клик. В данном случае они совпадают с псевдоссылками, поэтому можно применить смешивание блоков (`mix`). BEMJSON-декларация доступна в разделе "Примеры".

При явном использовании этот элемент представлен в DOM в виде `span`, в который можно положить блоки, составляющие пункт меню. Если же содержание пункта меню состоит всего из одного блока (как в примере с псевдоссылками), для экономии разметки разумно применять `mix`.

Кроме того, что соответствующий элемент `item` в результате клика приобретает модификатор `{ state: 'current' }`, на BEM-объекте блока возникает событие `current`, сопровождающееся данными о текущем и предыдущем активных пунктах. В своём JavaScript-приложении можно реагировать на это событие.

В HTML по умолчанию блок представлен как имеющий JavaScript-реализацию (он смешан с блоком `i-bem` и имеет соответствующие параметры в атрибуте `data-bem`). Но если в блоке отсутствуют элементы `item-selector`, BEM-объект блока не создаётся.

**Меню без подмешивания блока i-bem**

Примешивание блока `i-bem` можно устранить, указав в свойстве js-блока значение `false`.

```
{
  block: 'b-menu-horiz',
  js: false,
  mods: { layout: 'normal' },
  content: [
    {
      elem: 'item',
      content: {
        block: 'b-link', url: '/', content: 'Home'
      }
    },
    { ... }
  ]
}
```

###_layout_simple
**Горизонтальное меню простыми ссылками**  
`{ mods: { 'layout': 'simple' } }`  
В некоторых случаях для вывода меню не нужны даже DOM-узлы списка, а достаточно просто перечислить ссылки, разделив их пробелом, запятой или каким-либо специальным символом.

Для вывода такого меню подходит реализация блока с модификатором `{ layout: 'simple' }`.

BEMJSON меню отличается наличием свойства `separator` — того самого специального символа, который разделяет пункты меню.
Активный пункт меню в данном примере представлен в виде простого текста в теге `span`.

###__item_state_current
`{ elemMods: { state: 'current' } }`
Этот модификатор помечает текущий пункт меню.

На своём уровне переопределения можно реализовать для такого модификатора CSS-правила, по которым текущий пункт меню будет визуально отличаться от остальных.

```
{
    elem: 'item',
    elemMods: { state: 'current' },
    content: 'Home'
}
```
JavaScript-код блока реализован так, что активный пункт меню переключается при клике левой кнопкой мыши на соответствующем элементе `item-selector`.
