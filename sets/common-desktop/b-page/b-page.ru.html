<!DOCTYPE html><html class="i-ua_js_no i-ua_css_standard" xmlns:fb="http://ogp.me/ns/fb#"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7, IE=edge"/><title>b-page: Обвязка страницы</title><meta property="fb:app_id" content="352298414783700"/><script>;(function(d,e,c,r){e=d.documentElement;c="className";r="replace";e[c]=e[c][r]("i-ua_js_no","i-ua_js_yes");if(d.compatMode!="CSS1Compat")e[c]=e[c][r]("i-ua_css_standart","i-ua_css_quirks")})(document);</script><!--[if gt IE 7]><!--><link rel="stylesheet" href="_b-page.ru.css"/><!--<![endif]--><!--[if lt IE 8]><link rel="stylesheet" href="_b-page.ru.ie.css"/><![endif]--><script src="http://yandex.st/jquery/1.6.2/jquery.min.js"></script><script src="b-page.ru.js"></script></head><body class="b-page__body b-page"><!-- Yandex.Metrika counter --><div style="display:none;"><script type="text/javascript">(function(w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter10053391 = new Ya.Metrika({id:10053391, enableAll: true, trackHash:true}); } catch(e) { } }); })(window, "yandex_metrika_callbacks");</script></div><script src="//mc.yandex.ru/metrika/watch.js" type="text/javascript" defer="defer"></script><noscript><div><img src="//mc.yandex.ru/watch/10053391" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter --><div class="b-page__i"><div class="b-page__i"><div class="b-breadcrumbs"><div class="b-menu-horiz b-menu-horiz_layout_horiz i-bem" onclick="return {&quot;b-menu-horiz&quot;:{}}"><div class="b-menu-horiz__layout-unit b-menu-horiz__layout-unit_position_first b-menu-horiz__layout-unit_position_last"><div class="b-menu-horiz__item"><a class="b-link" href="/">Index</a></div></div></div></div><div class="b-blocks-desc"><h1 class="b-text__h1">Обвязка страницы</h1><table class="b-layout-table b-layout-table_layout_25-75"><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><tt class="b-blocks-desc__entity-bemjson">{ block: 'b-page' }</tt></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"><div class="b-text"><p class="b-text__p">Блок <tt>b-page</tt> создаёт теги верхнего уровня страницы:</p><ul class="b-text__ul"><li class="b-text__li"><tt>&lt;html&gt;</tt></li><li class="b-text__li"><tt>&lt;head&gt;</tt></li><li class="b-text__li"><tt>&lt;body&gt;</tt></li></ul><p class="b-text__p">Именно он отвечает за то, какие подключить <tt>CSS</tt> и <tt>JS</tt> файлы к странице, выставление <tt>meta</tt> тегов, заголовка и так далее.</p><p class="b-text__p">Декларация блока в <tt>BEMJSON</tt> начинается объявлением блока и указанием свойства <tt>title</tt>, которое превращается в тег <tt>&lt;title&gt;</tt> в <tt>HTML</tt>.</p><pre class="ohl ohl_lang_js"><span class="ohl-punctuation">(</span><span class="ohl-punctuation">{</span>
<span class="ohl-name">block</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-page<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span>
<span class="ohl-name">title</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>Page with link<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span>
<span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>
<span class="ohl-punctuation">}</span><span class="ohl-punctuation">)</span></pre><p class="b-text__p">Указание свойства <tt>head</tt> дополняет элемент <tt>head</tt>, соответствующий <tt>HTML</tt> тегу <tt>&lt;head&gt;</tt>, элементами для подключения <tt>CSS</tt> и <tt>JS</tt> файлов:</p><pre class="ohl ohl_lang_js"><span class="ohl-punctuation">(</span><span class="ohl-punctuation">{</span>
<span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>
<span class="ohl-name">head</span><span class="ohl-operator">:</span> <span class="ohl-punctuation">[</span>
    <span class="ohl-punctuation">{</span> <span class="ohl-name">elem</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>css<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-name">url</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>example.css<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-name">ie</span><span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-constant">false</span> <span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span>
    <span class="ohl-punctuation">{</span> <span class="ohl-name">elem</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>css<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-name">url</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>example.ie.css<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-name">ie</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>lt IE 8<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span>
    <span class="ohl-punctuation">{</span> <span class="ohl-name">elem</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>js<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-name">url</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>example.js<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-punctuation">}</span>
<span class="ohl-punctuation">]</span><span class="ohl-punctuation">,</span>
<span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>
<span class="ohl-punctuation">}</span><span class="ohl-punctuation">)</span></pre><p class="b-text__p">Элемент <tt>css</tt> превращается в <tt>HTML</tt> в тег <tt>&lt;link&gt;</tt>, подключающий как <tt>CSS</tt> стиль тот файл, что указан в свойстве <tt>url</tt> этого элемента. Также у такого элемента может быть свойство <tt>ie</tt>. Если это свойство <tt>false</tt>, то будут использоваться такие <tt>condittional comments</tt>, которые предотвратят использование этих стилей в <tt>IE</tt>. При строчном значении этого свойства тег <tt>&lt;link&gt;</tt> , будет обёрнут в соответствующий <tt>conditional comment</tt>, и этот стиль будет грузиться и использоваться указанных браузерах.<br/> Также есть возможность указывать свойство <tt>content</tt> для содержания тега <tt>&lt;style&gt;</tt>:</p><pre class="ohl ohl_lang_js"><span class="ohl-punctuation">(</span><span class="ohl-punctuation">{</span>
<span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>
<span class="ohl-name">head</span><span class="ohl-operator">:</span> <span class="ohl-punctuation">[</span>
    <span class="ohl-punctuation">{</span>
        <span class="ohl-name">elem</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>css<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span>
        <span class="ohl-name">content</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>.b-blah { color: #f00<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-punctuation">}</span>
    <span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span>
    <span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>
<span class="ohl-punctuation">]</span><span class="ohl-punctuation">,</span>
<span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>
<span class="ohl-punctuation">}</span><span class="ohl-punctuation">)</span></pre><p class="b-text__p">Элемент <tt>js</tt> действует аналогично, подключая к странице <tt>JS</tt> файлы при помощи тега <tt>&lt;script&gt;</tt>.</p><p class="b-text__p">Свойство <tt>head</tt> не описывает содержание <tt>HTML</tt>-тега <tt>&lt;head&gt;</tt> полностью, а лишь дополняет дефолтное, которое блок сам создаёт в своём <tt>BEMHTML</tt> шаблоне.</p><h3 class="b-text__h3" id="Tegmetasukazaniemkodirovki">Тег &lt;meta&gt; с указанием кодировки</h3><p class="b-text__p"><tt>BEMHTML</tt>:</p><pre class="ohl ohl_lang_js"><span class="ohl-name">content</span><span class="ohl-operator">:</span> <span class="ohl-punctuation">[</span>
<span class="ohl-punctuation">{</span>
    <span class="ohl-name">tag</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>meta<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span>
    <span class="ohl-name">attrs</span><span class="ohl-operator">:</span> <span class="ohl-punctuation">{</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>http-equiv<span class="ohl-punctuation">&apos;</span></span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>content-type<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-name">content</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>text/html; charset=utf-8<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-punctuation">}</span>
<span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span>
<span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span></pre><h3 class="b-text__h3" id="TegmetadlyaispolyzovaniyaIE9ivyshevmaksimalynomcompatibilityrezhime">Тег &lt;meta&gt; для использования <tt>IE9</tt> (и выше) в максимальном <tt>compatibility</tt> режиме</h3><p class="b-text__p"><tt>BEMHTML</tt>:</p><pre class="ohl ohl_lang_js"><span class="ohl-name">content</span><span class="ohl-operator">:</span> <span class="ohl-punctuation">[</span>
<span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>
<span class="ohl-punctuation">{</span>
    <span class="ohl-name">tag</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>meta<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span>
    <span class="ohl-name">attrs</span><span class="ohl-operator">:</span> <span class="ohl-punctuation">{</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>http-equiv<span class="ohl-punctuation">&apos;</span></span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>X-UA-Compatible<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-name">content</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>IE=EmulateIE7, IE=edge<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-punctuation">}</span>
<span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span>
<span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span></pre><h3 class="b-text__h3" id="Vystavlenieznacheniyategatitlestranicyizsvojstva">Выставление значения тега &lt;title&gt; страницы из свойства</h3><pre class="ohl ohl_lang_js"><span class="ohl-name">content</span><span class="ohl-operator">:</span> <span class="ohl-punctuation">[</span>
<span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>
<span class="ohl-punctuation">{</span>
    <span class="ohl-name">tag</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>title<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span>
    <span class="ohl-name">content</span><span class="ohl-operator">:</span> <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">ctx</span><span class="ohl-operator">.</span><span class="ohl-name">title</span>
<span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span>
<span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span></pre><h3 class="b-text__h3" id="Vystavleniefavikonki">Выставление фавиконки</h3><pre class="ohl ohl_lang_js"><span class="ohl-name">content</span><span class="ohl-operator">:</span> <span class="ohl-punctuation">[</span>
<span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>
<span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">ctx</span><span class="ohl-operator">.</span><span class="ohl-name">favicon</span> <span class="ohl-operator">?</span> <span class="ohl-punctuation">{</span>
    <span class="ohl-name">elem</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>favicon<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span>
    <span class="ohl-name">url</span><span class="ohl-operator">:</span> <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">ctx</span><span class="ohl-operator">.</span><span class="ohl-name">favicon</span>
<span class="ohl-punctuation">}</span> <span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span><span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span>
<span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span></pre><h3 class="b-text__h3" id="Deklaraciyablokaiua">Декларация блока i-ua</h3><pre class="ohl ohl_lang_js"><span class="ohl-name">content</span><span class="ohl-operator">:</span> <span class="ohl-punctuation">[</span>
<span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>
<span class="ohl-punctuation">{</span>
    <span class="ohl-name">block</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>i-ua<span class="ohl-punctuation">&apos;</span></span>
<span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span>
<span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span></pre><p class="b-text__p">Аналогично указанию свойства <tt>head</tt>, может быть задано свойство <tt>meta</tt>, содержашее один или несколько элементов <tt>meta</tt>:</p><pre class="ohl ohl_lang_js"><span class="ohl-punctuation">(</span><span class="ohl-punctuation">{</span>
<span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>
<span class="ohl-name">meta</span><span class="ohl-operator">:</span> <span class="ohl-punctuation">{</span>
    <span class="ohl-name">elem</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>meta<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span>
    <span class="ohl-name">attrs</span><span class="ohl-operator">:</span> <span class="ohl-punctuation">{</span>
        <span class="ohl-name">name</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>keywords<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span>
        <span class="ohl-name">content</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>js, css, html<span class="ohl-punctuation">&apos;</span></span>
    <span class="ohl-punctuation">}</span>
<span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span>
<span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>
<span class="ohl-punctuation">}</span><span class="ohl-punctuation">)</span></pre><pre class="ohl ohl_lang_js"><span class="ohl-punctuation">(</span><span class="ohl-punctuation">{</span>
<span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>
<span class="ohl-name">meta</span><span class="ohl-operator">:</span> <span class="ohl-punctuation">[</span>
    <span class="ohl-punctuation">{</span>
        <span class="ohl-name">elem</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>meta<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span>
        <span class="ohl-name">attrs</span><span class="ohl-operator">:</span> <span class="ohl-punctuation">{</span>
            <span class="ohl-name">name</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>keywords<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span>
            <span class="ohl-name">content</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>js, css, html<span class="ohl-punctuation">&apos;</span></span>
        <span class="ohl-punctuation">}</span>
    <span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span>
    <span class="ohl-punctuation">{</span>
        <span class="ohl-name">elem</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>meta<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span>
        <span class="ohl-name">attrs</span><span class="ohl-operator">:</span> <span class="ohl-punctuation">{</span>
            <span class="ohl-name">name</span> <span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>description<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span>
            <span class="ohl-name">content</span> <span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>Yet another webdev blog<span class="ohl-punctuation">&apos;</span></span>
        <span class="ohl-punctuation">}</span>
    <span class="ohl-punctuation">}</span>
<span class="ohl-punctuation">]</span>
<span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>
<span class="ohl-punctuation">}</span><span class="ohl-punctuation">)</span></pre><p class="b-text__p">Значением свойства <tt>content</tt> блока <tt>b-page</tt> может быть хеш-описание содержимого (если речь идёт лишь об одном блоке) или массив блоков, описанных хешами:</p><pre class="ohl ohl_lang_js"><span class="ohl-punctuation">(</span><span class="ohl-punctuation">{</span>
<span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>
<span class="ohl-name">content</span><span class="ohl-operator">:</span> <span class="ohl-punctuation">{</span>
    <span class="ohl-name">block</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-link<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span>
    <span class="ohl-name">mods</span><span class="ohl-operator">:</span> <span class="ohl-punctuation">{</span> <span class="ohl-name">pseudo</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>yes<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-name">togcolor</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>yes<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-name">color</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>green<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span>
    <span class="ohl-name">url</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>#<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span>
    <span class="ohl-name">target</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>_blank<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span>
    <span class="ohl-name">title</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>Кликни меня<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span>
    <span class="ohl-name">content</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>Псевдоссылка, меняющая цвет по клику<span class="ohl-punctuation">&apos;</span></span>
<span class="ohl-punctuation">}</span>
<span class="ohl-punctuation">}</span><span class="ohl-punctuation">)</span></pre><p class="b-text__p">На блоки, содержащиеся в <tt>content</tt>, действуют их <tt>BEMHTML</tt> шаблоны.</p></div></td></tr></table></div><fb:comments class="b-fb__comments b-fb i-bem" onclick="return {&quot;b-fb&quot;:{}}" num_posts="10" width="500"></fb:comments></div></div></body></html>