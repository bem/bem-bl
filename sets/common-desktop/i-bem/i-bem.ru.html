<!DOCTYPE html><html class="i-ua_js_no i-ua_css_standard" xmlns:fb="http://ogp.me/ns/fb#"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7, IE=edge"/><title>i-bem: Помощник для создания других блоков</title><meta property="fb:app_id" content="352298414783700"/><script>;(function(d,e,c,r){e=d.documentElement;c="className";r="replace";e[c]=e[c][r]("i-ua_js_no","i-ua_js_yes");if(d.compatMode!="CSS1Compat")e[c]=e[c][r]("i-ua_css_standart","i-ua_css_quirks")})(document);</script><!--[if gt IE 7]><!--><link rel="stylesheet" href="_i-bem.ru.css"/><!--<![endif]--><!--[if lt IE 8]><link rel="stylesheet" href="_i-bem.ru.ie.css"/><![endif]--><script src="http://yandex.st/jquery/1.6.2/jquery.min.js"></script><script src="i-bem.ru.js"></script></head><body class="b-page__body b-page"><!-- Yandex.Metrika counter --><div style="display:none;"><script type="text/javascript">(function(w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter10053391 = new Ya.Metrika({id:10053391, enableAll: true, trackHash:true}); } catch(e) { } }); })(window, "yandex_metrika_callbacks");</script></div><script src="//mc.yandex.ru/metrika/watch.js" type="text/javascript" defer="defer"></script><noscript><div><img src="//mc.yandex.ru/watch/10053391" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter --><div class="b-page__i"><div class="b-page__i"><div class="b-breadcrumbs"><div class="b-menu-horiz b-menu-horiz_layout_horiz i-bem" onclick="return {&quot;b-menu-horiz&quot;:{}}"><div class="b-menu-horiz__layout-unit b-menu-horiz__layout-unit_position_first b-menu-horiz__layout-unit_position_last"><div class="b-menu-horiz__item"><a class="b-link" href="/">Index</a></div></div></div></div><div class="b-blocks-desc"><h1 class="b-text__h1">Помощник для создания других блоков</h1><table class="b-layout-table b-layout-table_layout_25-75"><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><tt class="b-blocks-desc__entity-bemjson">{ block: 'i-bem' }</tt></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"><div class="b-text"><p class="b-text__p">Блок <tt>i-bem</tt> — это блок-хелпер, позволяющий создавать другие блоки. Блок реализован в технологиях <tt>BEMHTML</tt> и <tt>JS</tt>. Обе эти реализации являются ядром библиотеки блоков в соответствующих технологиях.</p><h2 class="b-text__h2" id="jsrealizaciyablokaibem">js-реализация блока i-bem</h2><p class="b-text__p">Реализация блока <tt>i-bem</tt> в <tt>JS</tt> обеспечивает хелперы для представления блока в виде <tt>JS</tt> объекта с определёнными методами и свойствами. Это нужно, чтобы писать клиентский <tt>JS</tt> в терминах <tt>BEM</tt>. То есть <tt>JS</tt> оперирует более высоким уровнем абстрации, чем <tt>DOM</tt> представление.</p><p class="b-text__p">Для того, чтобы js-представление блока использовало ядро <tt>i-bem</tt>, оно должно быть написано с соблюдением специальных правил.</p><h4 class="b-text__h4" id="Chtoopisanonaetojstranice">Что описано на этой странице?</h4><ul class="b-text__ul"><li class="b-text__li">Какие бывают блоки<ul class="b-text__ul"><li class="b-text__li"><a class="b-link" href="#dom.blocks">Блоки с DOM-представлением</a></li><li class="b-text__li"><a class="b-link" href="#abstract.blocks">Блоки без DOM-представления</a></li></ul></li><li class="b-text__li">Принципы и особенности подхода<ul class="b-text__ul"><li class="b-text__li"><a class="b-link" href="#decl">Декларативный принцип</a></li><li class="b-text__li"><a class="b-link" href="#block.getting">Доступ к другим блокам</a></li><li class="b-text__li"><a class="b-link" href="#mods">Работа с модификаторами</a></li><li class="b-text__li"><a class="b-link" href="#customization">Кастомизация блоков</a></li></ul></li><li class="b-text__li"><a class="b-link" href="#creation">Создание собственного bem-js блока</a></li><li class="b-text__li">Подробнее о понятиях<ul class="b-text__ul"><li class="b-text__li"><a class="b-link" href="#init">Инициализация</a></li><li class="b-text__li"><a class="b-link" href="#liveinit">Инициализация по требованию (live-инициализация<span>)</span></a></li><li class="b-text__li"><a class="b-link" href="#finding">Методы доступа к блокам и элементам</a></li><li class="b-text__li"><a class="b-link" href="#events">Работа с событиями</a></li></ul></li></ul><pre class="ohl ohl_lang_xml"><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;</span>a <span class="ohl-name ohl-name-attribute">name<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>dom.blocks<span class="ohl-punctuation">&quot;</span></span></span><span class="ohl-punctuation">&gt;</span></span><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;/</span>a<span class="ohl-punctuation">&gt;</span></span></pre><h4 class="b-text__h4" id="BlokisDOMpredstavleniem">Блоки с DOM-представлением</h4><p class="b-text__p">Блокам, реализованным на <tt>bem-js</tt>, могут соответствовать ноды в <tt>HTML</tt>. В этом случае говорится о том, что блоки имеют <tt>DOM</tt> представление.<br/> В <tt>HTML</tt> блоки на <tt>bem-js</tt> отличаются дополнительным <tt>CSS</tt> классом <tt>i-bem</tt> и специальным форматом записи параметров блока в <tt>onclick</tt>:</p><pre class="ohl ohl_lang_xml"><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;</span>div <span class="ohl-name ohl-name-attribute">class<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>b-my-block i-bem<span class="ohl-punctuation">&quot;</span></span></span> <span class="ohl-name ohl-name-attribute">onclick<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>return { &apos;b-my-block&apos; : { name : &apos;b-my-block&apos;}}<span class="ohl-punctuation">&quot;</span></span></span><span class="ohl-punctuation">&gt;</span></span>
...
<span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;/</span>div<span class="ohl-punctuation">&gt;</span></span></pre><p class="b-text__p">Ниже подробно рассказано о <a class="b-link" href="#onclick.params">формате параметров в onclick</a>.</p><pre class="ohl ohl_lang_xml"><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;</span>a <span class="ohl-name ohl-name-attribute">name<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>abstract.blocks<span class="ohl-punctuation">&quot;</span></span></span><span class="ohl-punctuation">&gt;</span></span><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;/</span>a<span class="ohl-punctuation">&gt;</span></span></pre><h4 class="b-text__h4" id="BlokibezDOMpredstavleniya">Блоки без DOM-представления</h4><p class="b-text__p">Технология <tt>bem-js</tt> позволяет также создавать блоки, не имеющие <tt>DOM</tt> представления. Такие блоки тем не менее существуют в <tt>JS</tt> в виде объектов, манипулировать ими можно так же, как и блоками с <tt>DOM</tt> представлением.</p><p class="b-text__p">О том, как создавать такие блоки, написано под заголовком <a class="b-link" href="#dom.decl">Декларация блока</a>.</p><p class="b-text__p">Блоки, реализованные на <tt>bem-js</tt>,  после инициализации представлены в <tt>js</tt> объектами, имеющими свои методы. Эти методы необходимо использовать, если нужно повлиять на внешний вид или поведение блока.<br/> Технология <tt>bem-js</tt> использует предметную область <a class="b-link" href="http://wiki.yandex-team.ru/lento4ka/bem">концепции <tt>BEM</tt></a>. Все сущности являются блоками или их элементами, управление их состояниями реализуется при помощи модификаторов.<br/> Представление блока в <tt>js</tt> не обязано иметь взаимное соответствие с одной <tt>DOM</tt>-нодой. Можно разместить несколько блоков на одной <tt>DOM</tt>-ноде (это называется <tt>mix</tt>), а также реализовать один блок на нескольких <tt>DOM</tt>-нодах.<br/> Далее блок, использующий технологию <tt>bem-js</tt>, будет называться <tt>блок, реализованный на bem-js</tt>, или <tt>bem-js-блок</tt>. Примером такого блока в библиотеке может служить <tt>b-link</tt>.</p><pre class="ohl ohl_lang_xml"><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;</span>a <span class="ohl-name ohl-name-attribute">name<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>decl<span class="ohl-punctuation">&quot;</span></span></span><span class="ohl-punctuation">&gt;</span></span><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;/</span>a<span class="ohl-punctuation">&gt;</span></span></pre><h2 class="b-text__h2" id="Deklarativnyjprincip">Декларативный принцип</h2><p class="b-text__p">Важной особенностью технологии <tt>bem-js</tt> является декларативный принцип. Подобно работе декларативных языков программирования, <tt>js</tt>-код содержит не последовательный алгоритм работы блока, а набор действий и условий, при которых эти действия необходимо выполнять.</p><h3 class="b-text__h3" id="Deklaraciyabloka">Декларация блока</h3><p class="b-text__p">Декларативность проявляется в объявлении того, к каким блокам или их модификациям применим код компонента:</p><pre class="ohl ohl_lang_js"><span class="ohl-name">BEM</span><span class="ohl-operator">.</span><span class="ohl-name">DOM</span><span class="ohl-operator">.</span><span class="ohl-name">decl</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-link<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-punctuation">{</span>
<span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span></pre><pre class="ohl ohl_lang_js"><span class="ohl-name">BEM</span><span class="ohl-operator">.</span><span class="ohl-name">DOM</span><span class="ohl-operator">.</span><span class="ohl-name">decl</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">{</span> <span class="ohl-name">name</span> <span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-domik<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-name">modName</span> <span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>type<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-name">modVal</span> <span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>popup<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span> <span class="ohl-punctuation">{</span>
<span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span></pre><p class="b-text__p"><a class="b-link" href="#dom.decl">Подробнее о декларации блока</a></p><pre class="ohl ohl_lang_xml"><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;</span>a <span class="ohl-name ohl-name-attribute">name<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>mods.reaction<span class="ohl-punctuation">&quot;</span></span></span><span class="ohl-punctuation">&gt;</span></span><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;/</span>a<span class="ohl-punctuation">&gt;</span></span></pre><h3 class="b-text__h3" id="Reakciyanaizmeneniemodifikatorov">Реакция на изменение модификаторов</h3><p class="b-text__p">Согласно концепции, состояния блока или его элементов определяются модификаторами. Поэтому, чтобы динамически изменять состояния блоков и элементов, в <tt>bem-js</tt> есть специальные методы для установки и снятия модификаторов.</p><p class="b-text__p">В коде компонента можно записать, как блок или элемент должен отреагировать на изменение модификатора. Эта запись тоже декларативна.<br/> Например, блок <tt>b-dropdowna</tt> при установке модификатора <tt>disabled</tt> прячет показанный попап:</p><pre class="ohl ohl_lang_js"><span class="ohl-name">BEM</span><span class="ohl-operator">.</span><span class="ohl-name">DOM</span><span class="ohl-operator">.</span><span class="ohl-name">decl</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-dropdowna<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-punctuation">{</span>

    <span class="ohl-name">onSetMod</span> <span class="ohl-operator">:</span> <span class="ohl-punctuation">{</span>

        <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>disabled<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-name">modName</span><span class="ohl-punctuation">,</span> <span class="ohl-name">modVal</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span>

            <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">_getSwitcher</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span><span class="ohl-operator">.</span><span class="ohl-name">setMod</span><span class="ohl-punctuation">(</span><span class="ohl-name">modName</span><span class="ohl-punctuation">,</span> <span class="ohl-name">modVal</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span>
            <span class="ohl-name">modVal</span> <span class="ohl-operator">==</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>yes<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-operator">&amp;&amp;</span> <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">getPopup</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span><span class="ohl-operator">.</span><span class="ohl-name">hide</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span>

        <span class="ohl-punctuation">}</span>

    <span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span>
<span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span></pre><p class="b-text__p">Подробно <a class="b-link" href="#mods.callbacks">о декларации обработки модификаторов</a> рассказано в пункте про создание собственного блока.</p><pre class="ohl ohl_lang_xml"><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;</span>a <span class="ohl-name ohl-name-attribute">name<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>block.getting<span class="ohl-punctuation">&quot;</span></span></span><span class="ohl-punctuation">&gt;</span></span><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;/</span>a<span class="ohl-punctuation">&gt;</span></span></pre><h2 class="b-text__h2" id="Dostupkdrugimblokam">Доступ к другим блокам</h2><p class="b-text__p">Может возникнуть необходимость управлять другим блоком. Для любых манипуляций с блоком необходимо получить доступ к <tt>js</tt>-объекту этого блока и вызывать его методы.</p><pre class="ohl ohl_lang_xml"><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;</span>a <span class="ohl-name ohl-name-attribute">name<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>blocks.finding<span class="ohl-punctuation">&quot;</span></span></span><span class="ohl-punctuation">&gt;</span></span><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;/</span>a<span class="ohl-punctuation">&gt;</span></span></pre><h3 class="b-text__h3" id="Dostupkbemjsblokuizdrugogobemjsbloka">Доступ к bem-js-блоку из другого bem-js-блока.</h3><p class="b-text__p">В случае <a class="b-link" href="#creation">реализации собственного кастомного блока на технологии <tt>bem-js</tt></a>, блоку соответствует <tt>js</tt>-объект. Он наследует общие для всех блоков методы, позволяющие работать с <tt>DOM</tt> документа в терминах <tt>BEM</tt>. Среди этих методов есть методы поиска других блоков относительно текущего (<tt>findBlock*</tt>-методы). Они возвращают <tt>js</tt>-объект искомого блока, что позволяет затем напрямую вызывать его методы.<br/> <b>Не используйте <tt>jQuery</tt>-селекторы для поиска блоков и элементов.</b></p><p class="b-text__p">В этом примере вызывается метод <tt>val()</tt> у блока <tt>b-form-checkbox</tt>:</p><pre class="ohl ohl_lang_js"><span class="ohl-name">BEM</span><span class="ohl-operator">.</span><span class="ohl-name">DOM</span><span class="ohl-operator">.</span><span class="ohl-name">decl</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-checkbox-example<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-punctuation">{</span>

    <span class="ohl-name">onSetMod</span><span class="ohl-operator">:</span> <span class="ohl-punctuation">{</span>
        <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>js<span class="ohl-punctuation">&apos;</span></span><span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span>
            <span class="ohl-keyword ohl-keyword-declaration">var</span> <span class="ohl-name">checkbox</span> <span class="ohl-operator">=</span> <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">findBlockInside</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">{</span> <span class="ohl-name">blockName</span> <span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-form-checkbox<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-name">modName</span> <span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>type<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-name">modVal</span> <span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>my-checkbox<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">}</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span>
            <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">domElem</span><span class="ohl-operator">.</span><span class="ohl-name">append</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>Значение checkbox: <span class="ohl-punctuation">&apos;</span></span> <span class="ohl-operator">+</span> <span class="ohl-name">checkbox</span><span class="ohl-operator">.</span><span class="ohl-name">val</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span>
        <span class="ohl-punctuation">}</span>
    <span class="ohl-punctuation">}</span>
<span class="ohl-punctuation">}</span>
<span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span></pre><h3 class="b-text__h3" id="Dostupkbemjsblokuneizbemjsbloka">Доступ к bem-js-блоку не из bem-js-блока</h3><p class="b-text__p">В случае работы не из <tt>bem-js-блока</tt>, методы <tt>findBlock*</tt> недоступны. <tt>js</tt>-объект блока можно получить, используя метод <tt>.bem()</tt> <tt>jQuery</tt> коллекции:</p><pre class="ohl ohl_lang_js"><span class="ohl-name">$</span><span class="ohl-punctuation">(</span>уникальный селектор<span class="ohl-punctuation">)</span><span class="ohl-operator">.</span><span class="ohl-name">bem</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-link<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span></pre><p class="b-text__p">Этот способ <b>не рекомендован</b>. Лучшим вариантом работы с блоками, реализованными на <tt>i-bem</tt>, является создание собственного компонента на <tt>i-bem</tt>. Подробнее о <a class="b-link" href="#creation">создании собственного bem-js-компонента</a> написано ниже.</p><pre class="ohl ohl_lang_xml"><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;</span>a <span class="ohl-name ohl-name-attribute">name<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>mods<span class="ohl-punctuation">&quot;</span></span></span><span class="ohl-punctuation">&gt;</span></span><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;/</span>a<span class="ohl-punctuation">&gt;</span></span></pre><h2 class="b-text__h2" id="Rabotasmodifikatoramibloka">Работа с модификаторами блока</h2><p class="b-text__p">Модификатор задаёт блоку определённое состояние. Каждому блоку можно присвоить один или несколько модификаторов (у блока также может не быть модификаторов вообще). У модификатора есть имя и значение.</p><p class="b-text__p">Любой перевод блока в другое состояние должен производиться при помощи установки модификатора. Например, для того, чтобы сделать чекбокс выделенным в блоке <tt>b-form-checkbox</tt>, ему нужно установить модификатор <tt>checked</tt> в значение <tt>yes</tt>.<br/> На странице документации каждого блока есть список его элементов и модификаторов. Из этого списка можно однозначно определять, какие состояния блока доступны для использования.</p><p class="b-text__p">Модификаторы нельзя устанавливать, напрямую меняя <tt>CSS</tt> класс на соответствующей <tt>DOM</tt>-ноде. Для корректной работы <tt>js</tt> все манипуляции с модификаторами должны производиться при помощи метода-хелпера <tt>setMod()</tt>. Также существуют методы <tt>hasMod()</tt>, <tt>getMod</tt>/<tt>getMods()</tt>, <tt>toggleMod()</tt> и <tt>delMod()</tt>. Сигнатуры этих методов доступны в <a class="b-link" href="/blocks/i-bem/i-bem.jsdoc.wiki">референсе по BEM</a>.</p><pre class="ohl ohl_lang_xml"><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;</span>a <span class="ohl-name ohl-name-attribute">name<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>customization<span class="ohl-punctuation">&quot;</span></span></span><span class="ohl-punctuation">&gt;</span></span><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;/</span>a<span class="ohl-punctuation">&gt;</span></span></pre><h2 class="b-text__h2" id="Izmeneniepovedeniyasushhestvuyushhixblokov">Изменение поведения существующих блоков</h2><p class="b-text__p">Используя <tt>bem-js</tt>, можно переопределять и доопределять методы блока и функций реакции на изменения модификаторов. Это делается аналогично кастомизации блоков на <tt>CSS</tt> или <tt>BEMHTML</tt>.</p><h3 class="b-text__h3" id="Pereopredeleniepovedeniya">Переопределение поведения</h3><p class="b-text__p">Например, на сервисе существует необходимость модифицировать все блоки <tt>b-dropdowna</tt> так, чтобы они не закрывались по второму клику на псевдо-ссылку. В этом случае на уровне переопределения сервиса нужно сделать файл <tt>blocks/b-dropdowna/b-dropdowna.js</tt>, кастомизирующий поведение блока из библиотеки:</p><pre class="ohl ohl_lang_js"><span class="ohl-name">BEM</span><span class="ohl-operator">.</span><span class="ohl-name">DOM</span><span class="ohl-operator">.</span><span class="ohl-name">decl</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-dropdowna<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-punctuation">{</span>

    <span class="ohl-name">onSetMod</span> <span class="ohl-operator">:</span> <span class="ohl-punctuation">{</span>

        <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>js<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span>

            <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">_getSwitcher</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span><span class="ohl-operator">.</span><span class="ohl-name">on</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>click<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">_on</span><span class="ohl-punctuation">,</span> <span class="ohl-keyword">this</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span>

        <span class="ohl-punctuation">}</span>
    <span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span>
    <span class="ohl-name">_on</span> <span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span>
        <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">getPopup</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span><span class="ohl-operator">.</span><span class="ohl-name">show</span><span class="ohl-punctuation">(</span><span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">elem</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>switcher<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span>
    <span class="ohl-punctuation">}</span>
<span class="ohl-punctuation">}</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span></pre><h3 class="b-text__h3" id="Rasshireniepovedeniya">Расширение поведения</h3><p class="b-text__p">В предыдущем примере код кастомизации полностью переопределяет поведение блока. Технология <tt>bem-js</tt> позволяет также реализовывать «доопределение» блока. Для этого в методах кастомизирующего кода можно вызывать <tt>this._<span>_</span>base.apply()</tt>, передавая в качестве аргументов <tt>this</tt> и <tt>arguments</tt>. Вызов такого метода аналогичен использованию <tt>&lt;xsl:apply-imports/&gt;</tt>.</p><p class="b-text__p">Например, можно доопределить реакцию на клик всех блоков <tt>b-link</tt> на проекте, так, чтобы после первого клика на псевдо-ссылку она приобретала красный цвет.</p><p class="b-text__p">Содержание файла <tt>blocks/b-link/_pseudo/b-link_pseudo_yes.js</tt></p><pre class="ohl ohl_lang_js"><span class="ohl-name">BEM</span><span class="ohl-operator">.</span><span class="ohl-name">DOM</span><span class="ohl-operator">.</span><span class="ohl-name">decl</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">{</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>name<span class="ohl-punctuation">&apos;</span></span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-link<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>modName<span class="ohl-punctuation">&apos;</span></span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>pseudo<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>modVal<span class="ohl-punctuation">&apos;</span></span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>yes<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span> <span class="ohl-punctuation">{</span>
    <span class="ohl-name">_onClick</span> <span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span>
         <span class="ohl-keyword">this</span>
            <span class="ohl-operator">.</span><span class="ohl-name">__base</span><span class="ohl-operator">.</span><span class="ohl-name">apply</span><span class="ohl-punctuation">(</span><span class="ohl-keyword">this</span><span class="ohl-punctuation">,</span> <span class="ohl-name">arguments</span><span class="ohl-punctuation">)</span> <span class="ohl-comment ohl-comment-single"><span class="ohl-punctuation">//</span> выполнить метод _onClick основного b-link</span>
            <span class="ohl-operator">.</span><span class="ohl-name">setMod</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>status<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>clicked<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span>
    <span class="ohl-punctuation">}</span>
<span class="ohl-punctuation">}</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span></pre><p class="b-text__p">Содержание файла <tt>blocks/b-link/_status/b-link_status_clicked.css</tt></p><pre class="ohl ohl_lang_xml">.b-link_status_clicked
{
    color: red;
}</pre><h3 class="b-text__h3" id="Kastomizaciyasispolyzovaniemmodifikatorov">Кастомизация с использованием модификаторов</h3><p class="b-text__p">Предыдущие примеры кастомизации изменяют поведение <i>всех</i> определенных блоков на странице. Но очень часто возникает задача кастомизации конкретного блока без влияния на поведение всех таких блоков. Согласно концепции <tt>BEM</tt>, если блок чем-то отличается от других похожих, это выражается модификатором. Так что нужно реализовывать поведение для блока с таким модификатором.</p><p class="b-text__p">Возвращаясь к примеру про псевдоссылку, приобретающую красный цвет после первого клика, сделаем модификацию <tt>reaction_odd</tt>. Псевдоссылка с таким модификатором приобретает красный цвет после каждого нечётного клика, а после каждого чётного возвращается к исходному цвету .</p><p class="b-text__p">Содержание файла <tt>blocks/b-link/_reaction/b-link_reaction_odd.js</tt>:</p><pre class="ohl ohl_lang_js"><span class="ohl-name">BEM</span><span class="ohl-operator">.</span><span class="ohl-name">DOM</span><span class="ohl-operator">.</span><span class="ohl-name">decl</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">{</span><span class="ohl-name">name</span> <span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-link<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-name">modName</span> <span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>reaction<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>modVal<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>odd<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span> <span class="ohl-punctuation">{</span>
    <span class="ohl-name">_onClick</span> <span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span>
         <span class="ohl-keyword">this</span>
            <span class="ohl-operator">.</span><span class="ohl-name">__base</span><span class="ohl-operator">.</span><span class="ohl-name">apply</span><span class="ohl-punctuation">(</span><span class="ohl-keyword">this</span><span class="ohl-punctuation">,</span> <span class="ohl-name">arguments</span><span class="ohl-punctuation">)</span> <span class="ohl-comment ohl-comment-single"><span class="ohl-punctuation">//</span> выполнить метод _onClick основного b-link</span>
            <span class="ohl-operator">.</span><span class="ohl-name">toggleMod</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>status<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>clicked<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span>
    <span class="ohl-punctuation">}</span>
<span class="ohl-punctuation">}</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span></pre><pre class="ohl ohl_lang_xml"><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;</span>a <span class="ohl-name ohl-name-attribute">name<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>creation<span class="ohl-punctuation">&quot;</span></span></span><span class="ohl-punctuation">&gt;</span></span><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;/</span>a<span class="ohl-punctuation">&gt;</span></span></pre><h2 class="b-text__h2" id="Sozdaniejskomponentadlyasobstvennogoblokailisobstvennojmodifikacii">Создание js-компонента для собственного блока или собственной модификации</h2><p class="b-text__p">Рекомендованным способом работы с <tt>bem-js-блоками</tt> является создание собственных <tt>bem-js-блоков</tt> (чаще всего — контейнеров), реагирующих на события других блоков страницы. Собственные <tt>bem-js-блоки</tt> могут вызывать методы других блоков (если нужно) и реализовывать свой функционал.<br/> <tt>js-код</tt> блока принято размещать в папке блока в файле с именем, соответствующим имени блока, и расширением <tt>.js</tt>. Если <tt>js-реализация</tt> относится не к блоку, а лишь к одной из его модификаций, можно разместить код в <tt>js-файле</tt>, соответствующем данному модификатору.</p><pre class="ohl ohl_lang_xml"><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;</span>a <span class="ohl-name ohl-name-attribute">name<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>dom.decl<span class="ohl-punctuation">&quot;</span></span></span><span class="ohl-punctuation">&gt;</span></span><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;/</span>a<span class="ohl-punctuation">&gt;</span></span></pre><h3 class="b-text__h3" id="Deklaraciyabloka">Декларация блока</h3><p class="b-text__p">Создание <tt>js-компонента</tt> блока сводится к его декларации с помощью специальных хелперов. Существуют два хелпера для декларации блоков: один для блоков, которые имеют <tt>DOM</tt>-представление, второй — для блоков, не имеющих <tt>DOM</tt> представления (например <tt>i-request</tt>, <tt>i-update-session</tt>).</p><p class="b-text__p">В первом случае блоки декларируются с помощью <tt>BEM.DOM.decl</tt>, во втором — с помощью <tt>BEM.decl</tt>.</p><p class="b-text__p">Хелпер декларации блока принимает 3 параметра:</p><ol class="b-text__ol"><li class="b-text__li">Матчащий параметр<br/>
    Первым параметром может быть либо строка с именем
блока, либо хеш. Хеш кроме имени блока содержит дополнительную информацию о том, к какому
типу блоков применять компонент.</li><li class="b-text__li">Методы и свойства экземляра блока<br/>
    Методы и свойства, предметной областью которых является конкретный инстанс блока
    на странице. Это как <a class="b-link" href="#mods.callbacks">функции обработки модификаторов</a>,
    так и <a class="b-link" href="#methods">кастомные методы блока</a>.</li><li class="b-text__li">Статические методы и свойства<br/>
    Методы и свойства, не относящиеся к конкретному инстансу блока. <a class="b-link" href="#static.methods">Подробнее</a></li></ol><p class="b-text__p">Например:</p><pre class="ohl ohl_lang_js"><span class="ohl-name">BEM</span><span class="ohl-operator">.</span><span class="ohl-name">DOM</span><span class="ohl-operator">.</span><span class="ohl-name">decl</span><span class="ohl-punctuation">(</span>
    <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-link<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-comment ohl-comment-single"><span class="ohl-punctuation">//</span> имя блока</span>
    <span class="ohl-punctuation">{</span>
        <span class="ohl-comment ohl-comment-single"><span class="ohl-punctuation">//</span> методы и свойства экземпляра блока</span>
    <span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span>
    <span class="ohl-punctuation">{</span>
        <span class="ohl-comment ohl-comment-single"><span class="ohl-punctuation">//</span> статические методы и свойства блока</span>
    <span class="ohl-punctuation">}</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span></pre><p class="b-text__p">и</p><pre class="ohl ohl_lang_js"><span class="ohl-name">BEM</span><span class="ohl-operator">.</span><span class="ohl-name">decl</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>i-request<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-punctuation">{</span>
    <span class="ohl-punctuation">{</span>
        <span class="ohl-comment ohl-comment-single"><span class="ohl-punctuation">//</span> методы и свойства экземпляра блока</span>
    <span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span>
    <span class="ohl-punctuation">{</span>
        <span class="ohl-comment ohl-comment-single"><span class="ohl-punctuation">//</span> статические методы и свойства блока</span>
<span class="ohl-punctuation">}</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span></pre><p class="b-text__p">Вместо имени блока может быть указано более сложное описание, например, информация о предке:</p><pre class="ohl ohl_lang_js"><span class="ohl-name">BEM</span><span class="ohl-operator">.</span><span class="ohl-name">decl</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">{</span> <span class="ohl-name">name</span> <span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-dataprovider<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-name">baseBlock</span> <span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>i-request<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span> <span class="ohl-punctuation">{</span>

    <span class="ohl-name">get</span> <span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span>
        <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">__base</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span> <span class="ohl-comment ohl-comment-single"><span class="ohl-punctuation">//</span> вызов одноименного метода из i-request</span>
        <span class="ohl-name">doSomething</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span>
    <span class="ohl-punctuation">}</span>

<span class="ohl-punctuation">}</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span></pre><p class="b-text__p">Тут указано, что блок <tt>b-dataprovider</tt> наследуется от блока <tt>i-request</tt> и переопределяет его метод <tt>get</tt>.</p><p class="b-text__p">В первом параметре (хеше) декларации может быть указано не только то, к какому блоку применить компонент, но и уточнён модификатор и/или его значение:</p><pre class="ohl ohl_lang_js"><span class="ohl-name">BEM</span><span class="ohl-operator">.</span><span class="ohl-name">decl</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">{</span> <span class="ohl-name">name</span> <span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-popup<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-name">modName</span> <span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>type<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-name">modVal</span> <span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>inplace<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span> <span class="ohl-punctuation">{</span>

    <span class="ohl-name">show</span> <span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span>
        <span class="ohl-name">doSomething</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span>
    <span class="ohl-punctuation">}</span>

<span class="ohl-punctuation">}</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span></pre><p class="b-text__p">Все методы, описанные в такой декларации, будут вызываться для таких блоков <tt>b-popup</tt>, которые в данный момент имеют модификатор <tt>type</tt>, установленный в <tt>inplace</tt>.</p><pre class="ohl ohl_lang_xml"><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;</span>a <span class="ohl-name ohl-name-attribute">name<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>mods.callbacks<span class="ohl-punctuation">&quot;</span></span></span><span class="ohl-punctuation">&gt;</span></span><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;/</span>a<span class="ohl-punctuation">&gt;</span></span></pre><h3 class="b-text__h3" id="Reakciyanaizmeneniemodifikatorov">Реакция на изменение модификаторов</h3><p class="b-text__p">Согласно концепции <tt>BEM</tt> состояния блоков и его элементов определяются модификаторами. Блок может сам назначать себе или своему элементу модификатор, или получать это назначение из другого блока.<br/> Во время того, как блок или элемент получил определённый модификатор, может возникнуть необходимость отреагировать на установку (или снятие) модификатора.</p><p class="b-text__p">Для этого в декларации в части описании методов и свойств экземпляра блока зарезервировано два специальных свойства: <tt>onSetMod</tt> и <tt>onElemSetMod</tt>, где описываются <tt>callback</tt>-функции, вызываемые при установке модификаторов для блока или его элементов.</p><p class="b-text__p">Описание <tt>callback</tt>-функций для <tt>onSetMod</tt> представляет собой хеш вида:</p><pre class="ohl ohl_lang_js"><span class="ohl-punctuation">{</span>
    <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>модификатор1<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-operator">:</span> <span class="ohl-punctuation">{</span>

        <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>значение1-модификатора1<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span> <span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span> <span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span> <span class="ohl-comment ohl-comment-single"><span class="ohl-punctuation">//</span> функция, которая будет вызвана при установке модификатора &apos;модификатор1&apos; в значение &apos;значение1&apos;</span>

        <span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>

        <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>значениеN-модификатора1<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span> <span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span> <span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span> <span class="ohl-comment ohl-comment-single"><span class="ohl-punctuation">//</span> функция, которая будет вызвана при установке модификатора &apos;модификатор1&apos; в значение &apos;значениеN&apos;</span>

        <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>*<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span> <span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span> <span class="ohl-punctuation">}</span> <span class="ohl-comment ohl-comment-single"><span class="ohl-punctuation">//</span> функция, которая будет вызвана при установке модификатора &apos;модификатор1&apos; в любое из значений</span>

    <span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span>

    <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>модификатор2<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span><span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span> <span class="ohl-comment ohl-comment-single"><span class="ohl-punctuation">//</span> функция, которая будет вызвана при установке модификатора &apos;модификатор2&apos; в любое из значений</span>

    <span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>

    <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>модификаторN<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-operator">:</span> <span class="ohl-punctuation">{</span>

        <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>значение1-модификатораN<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span> <span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span> <span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span>

        <span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>

        <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>значениеN-модификатораN<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span> <span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span> <span class="ohl-punctuation">}</span>

    <span class="ohl-punctuation">}</span>

<span class="ohl-punctuation">}</span></pre><p class="b-text__p">Описание <tt>callback</tt>-функций для <tt>onElemSetMod</tt> аналогично, за исключением того, что на верхнем уровне указывается имя элемента:</p><pre class="ohl ohl_lang_js"><span class="ohl-punctuation">{</span>

    <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>элемент1<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-operator">:</span> <span class="ohl-punctuation">{</span>

        <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>модификатор1<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-operator">:</span> <span class="ohl-punctuation">{</span>

            <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>значение1-модификатора1<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span> <span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span> <span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span> <span class="ohl-comment ohl-comment-single"><span class="ohl-punctuation">//</span> функция, которая будет вызвана при установке модификатора &apos;модификатор1&apos; в значение &apos;значение1&apos; для элемента &apos;элемент1&apos;</span>

            <span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>

            <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>значениеN-модификатора1<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span> <span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span> <span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span> <span class="ohl-comment ohl-comment-single"><span class="ohl-punctuation">//</span> функция, которая будет вызвана при установке модификатора &apos;модификатор1&apos; в значение &apos;значениеN&apos; для элемента &apos;элемент1&apos;</span>

            <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>*<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span> <span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span> <span class="ohl-punctuation">}</span> <span class="ohl-comment ohl-comment-single"><span class="ohl-punctuation">//</span> функция, которая будет вызвана при установке модификатора &apos;модификатор1&apos; в любое из значений  для элемента &apos;элемент1&apos;</span>

        <span class="ohl-punctuation">}</span>

    <span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span>

    <span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>

    <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>элементN<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span> <span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span> <span class="ohl-comment ohl-comment-single"><span class="ohl-punctuation">//</span> функция, которая будет вызвана при установке любого модификатора в любое из значений для элемента &apos;элементN&apos;</span>

<span class="ohl-punctuation">}</span></pre><p class="b-text__p">Параметры <tt>callback</tt>-функций:</p><ul class="b-text__ul"><li class="b-text__li"><tt>{jQuery} [elem]</tt> — элемент блока (если установка модификатора была для элемента)</li><li class="b-text__li"><tt>{String} modName</tt> — имя модификатора</li><li class="b-text__li"><tt>{String} modVal</tt> — устанавливаемое значение модификатора</li><li class="b-text__li"><tt>{String} curModVal</tt> — текущее значение модификатора</li></ul><p class="b-text__p">Порядок вызовов <tt>callback</tt>-функций при установке модификатора <tt>modVal</tt> в значение <tt>modName</tt>:</p><ul class="b-text__ul"><li class="b-text__li">вызывается <tt>callback</tt>-функция на установку любого модификатора в любое значение (если она существует)</li><li class="b-text__li">вызывается <tt>callback</tt>-функция на установку модификатора <tt>modVal</tt> в любое значение (если она существует)</li><li class="b-text__li">вызывается <tt>callback</tt>-функция на установку модификатора <tt>modVal</tt> в значение <tt>modName</tt> (если она существует)</li></ul><p class="b-text__p">Если хоть один из вызовов этих функций вернет <tt>false</tt>, то установки модификатора не произойдет.</p><p class="b-text__p">Например:</p><pre class="ohl ohl_lang_js"><span class="ohl-name">BEM</span><span class="ohl-operator">.</span><span class="ohl-name">DOM</span><span class="ohl-operator">.</span><span class="ohl-name">decl</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-menu<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-punctuation">{</span>

    <span class="ohl-name">onElemSetMod</span> <span class="ohl-operator">:</span> <span class="ohl-punctuation">{</span>

        <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>trigger<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-operator">:</span> <span class="ohl-punctuation">{</span>

            <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>state<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-name">elem</span><span class="ohl-punctuation">,</span> <span class="ohl-name">modName</span><span class="ohl-punctuation">,</span> <span class="ohl-name">modVal</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span>

                <span class="ohl-comment ohl-comment-single"><span class="ohl-punctuation">//</span> тут описаны действия, которые нужно совершить при установке элементу &apos;trigger&apos; модификатора с именем &apos;state&apos; в любое значение</span>
                <span class="ohl-keyword">this</span>
                    <span class="ohl-operator">.</span><span class="ohl-name">toggleMod</span><span class="ohl-punctuation">(</span>
                        <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">findElem</span><span class="ohl-punctuation">(</span><span class="ohl-name">elem</span><span class="ohl-operator">.</span><span class="ohl-name">closest</span><span class="ohl-punctuation">(</span><span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">buildSelector</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>layout-cell<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">,</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>item-content<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">)</span><span class="ohl-operator">.</span><span class="ohl-name">eq</span><span class="ohl-punctuation">(</span><span class="ohl-number ohl-number-integer">0</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">,</span>
                        <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>visibility<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span>
                        <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>visible<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span>
                        <span class="ohl-name">modVal</span> <span class="ohl-operator">==</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>opened<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">)</span>
                    <span class="ohl-operator">.</span><span class="ohl-name">trigger</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>trigger<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-punctuation">{</span>
                        <span class="ohl-name">domElem</span> <span class="ohl-operator">:</span> <span class="ohl-name">elem</span><span class="ohl-punctuation">,</span>
                        <span class="ohl-name">state</span> <span class="ohl-operator">:</span> <span class="ohl-name">modVal</span>
                    <span class="ohl-punctuation">}</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span>

            <span class="ohl-punctuation">}</span>

        <span class="ohl-punctuation">}</span>

    <span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span>

    <span class="ohl-name">onTriggerClick</span> <span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-name">e</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span> <span class="ohl-comment ohl-comment-single"><span class="ohl-punctuation">//</span> при клике на триггер</span>

        <span class="ohl-name">e</span><span class="ohl-operator">.</span><span class="ohl-name">preventDefault</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span>
        <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">toggleMod</span><span class="ohl-punctuation">(</span><span class="ohl-name">e</span><span class="ohl-operator">.</span><span class="ohl-name">data</span><span class="ohl-operator">.</span><span class="ohl-name">domElem</span><span class="ohl-punctuation">,</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>state<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>opened<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span> <span class="ohl-comment ohl-comment-single"><span class="ohl-punctuation">//</span> устанавливаем или снимаем значение &apos;opened&apos; у модификатор &apos;state&apos; для элемента &apos;trigger&apos;</span>

    <span class="ohl-punctuation">}</span>

<span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span> <span class="ohl-punctuation">{</span>

    <span class="ohl-name">live</span> <span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span>

        <span class="ohl-keyword">this</span>
            <span class="ohl-operator">.</span><span class="ohl-name">liveBindTo</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>trigger<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>click<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-name">e</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span> <span class="ohl-comment ohl-comment-single"><span class="ohl-punctuation">//</span> слушаем live-клик на элементах &apos;trigger&apos;</span>
                <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">onTriggerClick</span><span class="ohl-punctuation">(</span><span class="ohl-name">e</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span>
            <span class="ohl-punctuation">}</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span>

    <span class="ohl-punctuation">}</span>

<span class="ohl-punctuation">}</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span></pre><p class="b-text__p"><tt>В данном примере при вызове </tt>toggleMod<tt> внутри </tt>onTriggerClick<tt> будет вызвана соответствущая ей </tt>callback<tt>-функция из </tt>onElemSetMod<tt>.</tt></p><p class="b-text__p"><tt>Callback</tt> функции, реагирующие на изменение модификатора, выполняются до установки модификатора. Если существует необходимость выполнить часть кода после установки модификатора, нужно воспользоваться методом <tt>.afterCurrentEvent()</tt>.</p><p class="b-text__p">Пример ниже демонстрирует, что квадратик становится больше только после установки модификатора:</p><pre class="ohl ohl_lang_js"><span class="ohl-name">BEM</span><span class="ohl-operator">.</span><span class="ohl-name">DOM</span><span class="ohl-operator">.</span><span class="ohl-name">decl</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-square2<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-punctuation">{</span>

    <span class="ohl-name">onSetMod</span> <span class="ohl-operator">:</span> <span class="ohl-punctuation">{</span>

        <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>js<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span>

            <span class="ohl-keyword ohl-keyword-declaration">var</span> <span class="ohl-name">square</span> <span class="ohl-operator">=</span> <span class="ohl-keyword">this</span><span class="ohl-punctuation">;</span>

            <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">bindTo</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>click<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">{</span>
                <span class="ohl-name">square</span><span class="ohl-operator">.</span><span class="ohl-name">setMod</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>size<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>big<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span>
            <span class="ohl-punctuation">}</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span>

        <span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span>
        <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>size<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span>
            <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">domElem</span><span class="ohl-operator">.</span><span class="ohl-name">append</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>размер1: <span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">domElem</span><span class="ohl-operator">.</span><span class="ohl-name">width</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span> <span class="ohl-operator">+</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>&lt;br/&gt;<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span> <span class="ohl-comment ohl-comment-single"><span class="ohl-punctuation">//</span> напишет 200</span>

            <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">afterCurrentEvent</span><span class="ohl-punctuation">(</span><span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">{</span>
                <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">domElem</span><span class="ohl-operator">.</span><span class="ohl-name">append</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>размер2: <span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">domElem</span><span class="ohl-operator">.</span><span class="ohl-name">width</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span> <span class="ohl-comment ohl-comment-single"><span class="ohl-punctuation">//</span> напишет 400</span>
            <span class="ohl-punctuation">}</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span>
        <span class="ohl-punctuation">}</span>
    <span class="ohl-punctuation">}</span>

<span class="ohl-punctuation">}</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span></pre><h4 class="b-text__h4" id="Nachalorabotysblokommodifikatorjs">Начало работы с блоком (модификатор <tt>js</tt>)</h4><p class="b-text__p">Блок начинает свою работу с действий, описанных в <tt>callback</tt>-функции на установку его модификатора <tt>js</tt> в значение <tt>inited</tt>:</p><pre class="ohl ohl_lang_js"><span class="ohl-name">BEM</span><span class="ohl-operator">.</span><span class="ohl-name">DOM</span><span class="ohl-operator">.</span><span class="ohl-name">decl</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-form-input<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-punctuation">{</span>

    <span class="ohl-name">onSetMod</span> <span class="ohl-operator">:</span> <span class="ohl-punctuation">{</span>

        <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>js<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-operator">:</span> <span class="ohl-punctuation">{</span>

            <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>inited<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span>

                <span class="ohl-keyword">this</span>
                    <span class="ohl-operator">.</span><span class="ohl-name">bindTo</span><span class="ohl-punctuation">(</span><span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">elem</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>input<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">,</span> <span class="ohl-punctuation">{</span>
                        <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>focus<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-operator">:</span> <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">onFocus</span><span class="ohl-punctuation">,</span>
                        <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>blur<span class="ohl-punctuation">&apos;</span></span>  <span class="ohl-operator">:</span> <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">onBlur</span>
                    <span class="ohl-punctuation">}</span><span class="ohl-punctuation">)</span>

            <span class="ohl-punctuation">}</span>

        <span class="ohl-punctuation">}</span>

    <span class="ohl-punctuation">}</span>

<span class="ohl-punctuation">}</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span></pre><p class="b-text__p">Этот модификатор присваивается блоку в момент инициализации. Поскольку код обработчика модификатора выполняется до установки модификатора, эта функция-обработчик и является первой выполняющейся функцией блока.</p><p class="b-text__p">Модификаторы могут без ограничения присваиваться как блокам, имеющим <tt>DOM</tt> представление, так и блокам без него. Так что, у блоков без <tt>DOM</tt> представления первый исполняемый метод также задаётся как <tt>callback</tt> модификатора <tt>js_inited</tt>.</p><p class="b-text__p">В коде блоков можно встретить <tt>callback</tt> функцию не на значение <tt>inited</tt> модификатора <tt>js</tt>, а на установку модификатора <tt>js</tt> в любое значение:</p><pre class="ohl ohl_lang_js"><span class="ohl-name">BEM</span><span class="ohl-operator">.</span><span class="ohl-name">DOM</span><span class="ohl-operator">.</span><span class="ohl-name">decl</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-form-input<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-punctuation">{</span>

    <span class="ohl-name">onSetMod</span> <span class="ohl-operator">:</span> <span class="ohl-punctuation">{</span>

    <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>js<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span> <span class="ohl-comment ohl-comment-single"><span class="ohl-punctuation">//</span> конструктор b-form-input</span>
        <span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>
        <span class="ohl-punctuation">}</span>

    <span class="ohl-punctuation">}</span>
<span class="ohl-punctuation">}</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span></pre><p class="b-text__p">Это краткая декларация, возможная из-за того, что до инициализации блок не имеет модификатора <tt>js</tt>, а в момент инциализации приобретает значение <tt>inited</tt>. Другие значения модификатора сейчас не предусмотрены.</p><pre class="ohl ohl_lang_xml"><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;</span>a <span class="ohl-name ohl-name-attribute">name<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>methods<span class="ohl-punctuation">&quot;</span></span></span><span class="ohl-punctuation">&gt;</span></span><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;/</span>a<span class="ohl-punctuation">&gt;</span></span></pre><h3 class="b-text__h3" id="Metodybloka">Методы блока</h3><p class="b-text__p">Кроме реакции на модификаторы, в блоке могут быть определены его собственные методы. Определённые в блоке методы могут быть вызваны им самим или другими блоками.</p><p class="b-text__p">Например, так выглядит метод <tt>.toggle()</tt> блока <a class="b-link" href="/blocks/b-form-checkbox/b-form/checkbox.wiki">b-form-checkbox</a>:</p><pre class="ohl ohl_lang_js"><span class="ohl-name">BEM</span><span class="ohl-operator">.</span><span class="ohl-name">DOM</span><span class="ohl-operator">.</span><span class="ohl-name">decl</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-form-checkbox<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-punctuation">{</span>
    <span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>
    <span class="ohl-name">toggle</span> <span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span>
        <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">toggleMod</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>checked<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>yes<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span><span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span>
    <span class="ohl-punctuation">}</span>
    <span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>
<span class="ohl-punctuation">}</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span></pre><h4 class="b-text__h4" id="Pereopredelenieidoopredeleniemetodovbloka">Переопределение и доопределение методов блока</h4><p class="b-text__p">Любой метод блока (в том числе и методы обработки модификаторов) может быть переопределён. Об этом написано выше в пункте <a class="b-link" href="#customization">Изменение поведения существующих блоков</a>.</p><pre class="ohl ohl_lang_xml"><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;</span>a <span class="ohl-name ohl-name-attribute">name<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>static.methods<span class="ohl-punctuation">&quot;</span></span></span><span class="ohl-punctuation">&gt;</span></span><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;/</span>a<span class="ohl-punctuation">&gt;</span></span></pre><h3 class="b-text__h3" id="Staticheskiemetodybloka">Статические методы блока</h3><p class="b-text__p">Третий параметр, передаваемый в функцию декларации блока, – это хеш статических методов блока.</p><p class="b-text__p">Примером блока, использующего статические методы, может служить <a class="b-link" href="/blocks/b-flash/b-flash.wiki">/blocks/b-flash/b-flash.wiki</a>.</p><p class="b-text__p">Для каждого блока может быть определен статический метод <tt>live</tt>, позвляющий реализовать <a class="b-link" href="#liveinit">инициализацию по требованию (liveinit<span>)</span></a>.</p><pre class="ohl ohl_lang_xml"><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;</span>a <span class="ohl-name ohl-name-attribute">name<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>init<span class="ohl-punctuation">&quot;</span></span></span><span class="ohl-punctuation">&gt;</span></span><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;/</span>a<span class="ohl-punctuation">&gt;</span></span></pre><h2 class="b-text__h2" id="Inicializaciya">Инициализация</h2><p class="b-text__p">Для того, чтобы у блока появился <tt>js-объект</tt>, описанный в декларации, происходит процесс инициализации блока. Инициализация блоков производится функцией <tt>BEM.DOM.init()</tt> на фрагменте <tt>DOM</tt> дерева. Если элемент <tt>i-bem_<span>_</span>dom</tt> задекларирован с модификатором <tt>init_auto</tt> (подключается файл <tt>i-bem_<span>_</span>dom_init_auto.js</tt>), то инициализация блоков происходит на всём документе по событию domReady. Также функцию <tt>BEM.DOM.init</tt> можно вызвать самостоятельно. Например, это делается для инициализации блоков после динамического изменения страницы, если появились новые блоки с js-представлением.</p><h3 class="b-text__h3" id="InicializaciyablokovsDOMpredstavleniem">Инициализация блоков с DOM-представлением</h3><p class="b-text__p">Для инициализации блоков, представленных в <tt>DOM</tt>, на фрагменте дерева ищутся все блоки, помеченные классом <tt>i-bem</tt>, у них считываются параметры из атрибута <tt>onclick</tt>, и создаётся <tt>js-объект</tt> такого блока.</p><pre class="ohl ohl_lang_xml"><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;</span>a <span class="ohl-name ohl-name-attribute">name<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>onclick.params<span class="ohl-punctuation">&quot;</span></span></span><span class="ohl-punctuation">&gt;</span></span><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;/</span>a<span class="ohl-punctuation">&gt;</span></span></pre><h4 class="b-text__h4" id="Formatparametrovblokavonclick">Формат параметров блока в onclick</h4><p class="b-text__p">Параметры для блока записываются в виде возвращаемого атрибутом <tt>onclick</tt> хеша. Этот хеш должен содержать элементы с названиями, соответствующими названиям блоков, к которым они относятся. Значением каждого элемента должен быть вложенный хеш c параметрами.<br/> Такая запись позволяет задавать параметры для нескольких блоков в том случае, если они представлены в <tt>HTML</tt> одной и той же <tt>DOM-нодой</tt>.</p><p class="b-text__p">Вот как выглядит <tt>DOM-нода</tt> произвольного блока, реализованного на <tt>bem-js</tt>:</p><pre class="ohl ohl_lang_xml"><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;</span>div <span class="ohl-name ohl-name-attribute">class<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>b-my-block i-bem<span class="ohl-punctuation">&quot;</span></span></span> <span class="ohl-name ohl-name-attribute">onclick<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>return {
    &apos;b-my-block&apos; : {}
}<span class="ohl-punctuation">&quot;</span></span></span><span class="ohl-punctuation">&gt;</span></span>
..
<span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;/</span>div<span class="ohl-punctuation">&gt;</span></span></pre><p class="b-text__p">В случае, если блоку необходим параметр, он указывается на том же уровне, что и элемент <tt>name</tt>. Формат параметра может быть любым: строка, число, массив, хеш, функция. Количество параметров также не ограничено.</p><pre class="ohl ohl_lang_xml"><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;</span>div <span class="ohl-name ohl-name-attribute">class<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>b-my-block i-bem<span class="ohl-punctuation">&quot;</span></span></span> <span class="ohl-name ohl-name-attribute">onclick<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>return {
    &apos;b-my-block&apos; : {
        &apos;points&apos; : [
            [1.67, 2.5],
            [-30, 2.07],
            [290, -0.39]
        ],
        &apos;title&apos; : &apos;Какое-то название&apos;,
    }
}<span class="ohl-punctuation">&quot;</span></span></span><span class="ohl-punctuation">&gt;</span></span>
..
<span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;/</span>div<span class="ohl-punctuation">&gt;</span></span></pre><p class="b-text__p">Для нескольких блоков на одной <tt>DOM-ноде</tt> <tt>HTML</tt> представление будет аналогично следующему:</p><pre class="ohl ohl_lang_xml"><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;</span>div <span class="ohl-name ohl-name-attribute">class<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>b-my-block b-my-second-block i-bem<span class="ohl-punctuation">&quot;</span></span></span> <span class="ohl-name ohl-name-attribute">onclick<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>return {
    &apos;b-my-block&apos; : {
        &apos;title&apos; : &apos;Какое-то название&apos;, // Этот блок имеет опцинальный параметр title
    },
    &apos;b-my-second-block&apos; : {
        // У этого блока нет никаких опциональных параметров
    }
}<span class="ohl-punctuation">&quot;</span></span></span><span class="ohl-punctuation">&gt;</span></span>
..
<span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;/</span>div<span class="ohl-punctuation">&gt;</span></span></pre><h4 class="b-text__h4" id="DOMpredstavlenieinicializirovannogobloka">DOM-представление инициализированного блока</h4><p class="b-text__p">После инициализации <tt>DOM</tt> представление блока изменяется: у блока появляется дополнительный модификатор <tt>js_inited</tt>.<br/> Если <tt>DOM-ноде</tt> соответствуют несколько блоков, то появление модификатора у одного из них свидетельствует об инициализации только этого блока и не влияет на инициализацию другого (других).</p><p class="b-text__p">DOM-представление блока после инициализации:</p><pre class="ohl ohl_lang_xml"><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;</span>div <span class="ohl-name ohl-name-attribute">class<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>b-my-block b-my-block_js_inited i-bem<span class="ohl-punctuation">&quot;</span></span></span> <span class="ohl-name ohl-name-attribute">onclick<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>return {
    &apos;b-my-block&apos; : {
        &apos;name&apos; : &apos;b-my-block&apos;
    }
}<span class="ohl-punctuation">&quot;</span></span></span><span class="ohl-punctuation">&gt;</span></span>
..
<span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;/</span>div<span class="ohl-punctuation">&gt;</span></span></pre><p class="b-text__p"><tt>DOM</tt> представление двух блоков после инициализации:</p><pre class="ohl ohl_lang_xml"><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;</span>div <span class="ohl-name ohl-name-attribute">class<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>b-my-block b-my-second-block b-my-block_js_inited b-my-second-block_js_inited i-bem<span class="ohl-punctuation">&quot;</span></span></span> <span class="ohl-name ohl-name-attribute">onclick<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>return {
    &apos;b-my-block&apos; : {
        &apos;name&apos; : &apos;b-my-block&apos;,
    },
    &apos;b-my-second-block&apos; : {
        &apos;name&apos; : &apos;b-my-second-block&apos;
    }
}<span class="ohl-punctuation">&quot;</span></span></span><span class="ohl-punctuation">&gt;</span></span></pre><p class="b-text__p"><tt>DOM</tt> представление двух блоков, но инициализован только один из них:</p><pre class="ohl ohl_lang_xml"><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;</span>div <span class="ohl-name ohl-name-attribute">class<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>b-my-block b-my-second-block b-my-second-block_js_inited i-bem<span class="ohl-punctuation">&quot;</span></span></span> <span class="ohl-name ohl-name-attribute">onclick<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>return {
    &apos;b-my-block&apos; : {
        &apos;name&apos; : &apos;b-my-block&apos;,
    },
    &apos;b-my-second-block&apos; : {
        &apos;name&apos; : &apos;b-my-second-block&apos;
    }
}<span class="ohl-punctuation">&quot;</span></span></span><span class="ohl-punctuation">&gt;</span></span></pre><h3 class="b-text__h3" id="InicializaciyablokovbezDOMpredstavleniya">Инициализация блоков без DOM-представления</h3><p class="b-text__p">В том случае, если у блока нет <tt>DOM</tt> представления, в процессе инициализации просто возникает <tt>js-объект</tt>, соответствующий этому блоку. Дальнейшее зависит от кода блока.</p><pre class="ohl ohl_lang_xml"><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;</span>a <span class="ohl-name ohl-name-attribute">name<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>liveinit<span class="ohl-punctuation">&quot;</span></span></span><span class="ohl-punctuation">&gt;</span></span><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;/</span>a<span class="ohl-punctuation">&gt;</span></span></pre><h2 class="b-text__h2" id="InicializaciyapotrebovaniyuliveInit">Инициализация по требованию (liveInit)</h2><p class="b-text__p">Многим блокам (например, <tt>b-link</tt>, <tt>b-dropdown</tt>, <tt>b-smart-help</tt>) нет необходимости делать сразу же полную инициализацию. Инициализация может происходить только на ключевые события для этого блока, например, клик по элементу этого блока. Рассмотрим на примере блока <tt>b-link</tt>:</p><pre class="ohl ohl_lang_js"><span class="ohl-name">BEM</span><span class="ohl-operator">.</span><span class="ohl-name">DOM</span><span class="ohl-operator">.</span><span class="ohl-name">decl</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-link<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-punctuation">{</span>

    <span class="ohl-name">_onClick</span> <span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-name">e</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span>

        <span class="ohl-name">e</span><span class="ohl-operator">.</span><span class="ohl-name">preventDefault</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span>
        <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">trigger</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>click<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span>

    <span class="ohl-punctuation">}</span>

<span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span> <span class="ohl-punctuation">{</span>

    <span class="ohl-name">live</span> <span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span>

        <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">liveBindTo</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>click<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-name">e</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span>
            <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">_onClick</span><span class="ohl-punctuation">(</span><span class="ohl-name">e</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span>
        <span class="ohl-punctuation">}</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span>

    <span class="ohl-punctuation">}</span>

<span class="ohl-punctuation">}</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span></pre><p class="b-text__p">В статических свойствах блока предусмотрено специальное свойство <tt>live</tt> (<tt>Function</tt>|<tt>Boolean</tt>), отвечающее за инициализацию по требованию и за подписку на <tt>live</tt> события на <tt>DOM</tt> элементах внутри такого блока.</p><p class="b-text__p">Если <tt>live</tt> определено как <tt>Function</tt>, то эта функция будет выполнена один раз — при попытке инициализации первого такого блока.</p><p class="b-text__p">Существует несколько хелперов для <tt>live</tt> событий:</p><ul class="b-text__ul"><li class="b-text__li"><tt>liveInitOnEvent</tt> — хелпер для инициализации блока по событию на блоке или его внутреннем элементе</li><li class="b-text__li"><tt>liveBindTo</tt> — подписка на события на блоке или его внутреннем элементе</li></ul><p class="b-text__p">Оба этих хелпера инициализируют блок при возникновении первого такого события. Различие же заключается в том, что <tt>callback</tt> функция в <tt>liveInitOnEvent</tt> вызывается только один раз после инициализации блока, а в <tt>liveBindTo</tt> она будет вызываться при каждом событии. Контекстом такой <tt>callback</tt> функции является тот блок, в котором произошло событие.</p><p class="b-text__p">В вышеприведенном примере блок <tt>b-link</tt> будет инициализирован при первом клике на себе и будет реагировать на каждый последующий клик.</p><p class="b-text__p">Если же <tt>live</tt> определено как <tt>Boolean</tt> и установлено в <tt>true</tt>, то такой блок будет инициализирован только при попытке доступа к нему, например, из методов поиска <tt>findBlockInside</tt>/<tt>findBlockOutside</tt>.</p><p class="b-text__p">&lt;a name=&quot;finding&quot;&gt;&lt;/a&gt;</p><h2 class="b-text__h2" id="Metodydostupakblokamielementam">Методы доступа к блокам и элементам</h2><p class="b-text__p">Работая с блоками, реализованными на <tt>bem-js</tt>, необходимо использовать встроенные методы для поиска блоков и их элементов. Эти методы доступны в каждом блоке и умеют возвращать другой блок или <tt>jQuery</tt> коллекцию (в случае поиска элементов).</p><h3 class="b-text__h3" id="Metodypoiskablokov">Методы поиска блоков</h3><p class="b-text__p">Поиск блоков осуществляется относительно текущего блока при помощи методов <tt>findBlock*</tt>.</p><p class="b-text__p">Реализуем блок <tt>b-my-block</tt>, который находит первый из блоков <tt>b-form-checkbox</tt> внутри себя и вызывает у него метод <tt>toggle()</tt> для переключения чекбокса.</p><pre class="ohl ohl_lang_js"><span class="ohl-name">BEM</span><span class="ohl-operator">.</span><span class="ohl-name">DOM</span><span class="ohl-operator">.</span><span class="ohl-name">decl</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-my-block<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-punctuation">{</span>
    <span class="ohl-name">onSetMod</span> <span class="ohl-operator">:</span> <span class="ohl-punctuation">{</span>
        <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>js<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span>
            <span class="ohl-keyword ohl-keyword-declaration">var</span> <span class="ohl-name">checkbox</span> <span class="ohl-operator">=</span> <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">findBlockInside</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-form-checkbox<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span>
            <span class="ohl-name">checkbox</span><span class="ohl-operator">.</span><span class="ohl-name">toggle</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span>
        <span class="ohl-punctuation">}</span>
    <span class="ohl-punctuation">}</span>
<span class="ohl-punctuation">}</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span></pre><p class="b-text__p">Поиск блока или блоков может быть выполнен одним из следующих методов:</p><ul class="b-text__ul"><li class="b-text__li"><tt>findBlockInside/findBlocksInside</tt> — поиск блока/блоков внутри <tt>DOM</tt> элементов текущего блока или его элементов</li><li class="b-text__li"><tt>findBlockOn/findBlocksOn</tt> — поиск блока/блоков на <tt>DOM</tt> элементах текущего блока или его элементов</li><li class="b-text__li"><tt>findBlockOutside/findBlocksOutside</tt> — поиск блока/блоков снаружи <tt>DOM</tt> элементов текущего блока или его элементов</li></ul><p class="b-text__p">Список методов поиска блоков и их сигнатуры можно посмотреть в <a class="b-link" href="/blocks/i-bem/dom/i-bem__dom.jsdoc.wiki">референсе по BEM.DOM</a>.</p><p class="b-text__p">Примерами блоков, использующих методы поиска других блоков, могут быть: <a class="b-link" href="/blocks/b-smart-help/b-smart-help.wiki">b-smart-help</a>, <a class="b-link" href="blocks/b-screenshot/b-screenshot.wiki">b-screenshot</a> и <a class="b-link" href="blocks/b-dropdowna/b-dropdowna.wiki">b-dropdowna</a>.</p><h3 class="b-text__h3" id="Metodydostupakelementam">Методы доступа к элементам</h3><p class="b-text__p">Для поиска элементов внутри блока используется метод <tt>elem</tt>. Результат этого метода кэшируется.</p><p class="b-text__p">Например:</p><pre class="ohl ohl_lang_js"><span class="ohl-name">BEM</span><span class="ohl-operator">.</span><span class="ohl-name">DOM</span><span class="ohl-operator">.</span><span class="ohl-name">decl</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-form-input<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-punctuation">{</span>

    <span class="ohl-name">doSomething</span> <span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span>

        <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">elem</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>hint<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span> <span class="ohl-comment ohl-comment-single"><span class="ohl-punctuation">//</span> тут будут найдены элементы b-form-input__hint</span>

    <span class="ohl-punctuation">}</span>

<span class="ohl-punctuation">}</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span></pre><p class="b-text__p">Можно искать элементы внутри блока с учетом модификатора:</p><pre class="ohl ohl_lang_js"><span class="ohl-name">BEM</span><span class="ohl-operator">.</span><span class="ohl-name">DOM</span><span class="ohl-operator">.</span><span class="ohl-name">decl</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-menu<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-punctuation">{</span>

    <span class="ohl-name">doSomething</span> <span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span>

        <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">elem</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>item<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>state<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>current<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span> <span class="ohl-comment ohl-comment-single"><span class="ohl-punctuation">//</span> тут будут найдены элементы b-menu__item_state_current</span>

    <span class="ohl-punctuation">}</span>

<span class="ohl-punctuation">}</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span></pre><p class="b-text__p">Некэширующий метод поиска элементов называется <tt>findElem()</tt>.</p><p class="b-text__p">Полный список методов для поиска элементов и их сигнатуры можно найти в <a class="b-link" href="/blocks/i-bem/dom/i-bem__dom.jsdoc.wiki">референсе по BEM.DOM</a>.</p><pre class="ohl ohl_lang_xml"><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;</span>a <span class="ohl-name ohl-name-attribute">name<span class="ohl-punctuation">=</span><span class="ohl-string ohl-string-double"><span class="ohl-punctuation">&quot;</span>events<span class="ohl-punctuation">&quot;</span></span></span><span class="ohl-punctuation">&gt;</span></span><span class="ohl-name ohl-name-tag"><span class="ohl-punctuation">&lt;/</span>a<span class="ohl-punctuation">&gt;</span></span></pre><h2 class="b-text__h2" id="Rabotassobytiyami">Работа с событиями</h2><h3 class="b-text__h3" id="Sobytiyanablokax">События на блоках</h3><p class="b-text__p">Блоки предоставляют интерфейс для подписки/отписки/нотификации своих собственных (не <tt>DOM</tt>) событий:</p><ul class="b-text__ul"><li class="b-text__li"><tt>on(e, [data], fn, [ctx])</tt> — подписка на событие <tt>e</tt></li><li class="b-text__li"><tt>onFirst(e, [data], fn, [ctx])</tt> — подписка только на первое событие <tt>e</tt></li><li class="b-text__li"><tt>un([e], [fn], [ctx])</tt> — отписка от конкретного события <tt>e</tt> или всех событий</li><li class="b-text__li"><tt>trigger(e, [data])</tt> — нотификация о событии  <tt>e</tt></li></ul><h3 class="b-text__h3" id="livesobytiyanablokax">live-события на блоках</h3><p class="b-text__p">В <tt>bem-js</tt> есть события, реализованные по паттерну делегированных событий, они называются <tt>live</tt> события.</p><p class="b-text__p">Следующий пример демонстрирует работу с live-событием <tt>click</tt> для блоков <tt>b-link</tt>, содержащихся в определённой <tt>DOM-ноде</tt>. В данном случае контейнер и блок совпадают:</p><pre class="ohl ohl_lang_js"><span class="ohl-name">BEM</span><span class="ohl-operator">.</span><span class="ohl-name">DOM</span><span class="ohl-operator">.</span><span class="ohl-name">decl</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-link-example<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-punctuation">{</span>

    <span class="ohl-name">onSetMod</span><span class="ohl-operator">:</span> <span class="ohl-punctuation">{</span>
        <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>js<span class="ohl-punctuation">&apos;</span></span><span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span>
            <span class="ohl-keyword ohl-keyword-declaration">var</span> <span class="ohl-name">link</span> <span class="ohl-operator">=</span> <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">findBlockInside</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-link<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span>
            <span class="ohl-name">BEM</span><span class="ohl-operator">.</span><span class="ohl-name">blocks</span><span class="ohl-punctuation">[</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-link<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">]</span>
                <span class="ohl-operator">.</span><span class="ohl-name">liveCtxBind</span><span class="ohl-punctuation">(</span><span class="ohl-name">link</span><span class="ohl-operator">.</span><span class="ohl-name">domElem</span><span class="ohl-punctuation">,</span>
                            <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>click<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span>
                            <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">{</span>
                                <span class="ohl-name">link</span><span class="ohl-operator">.</span><span class="ohl-name">domElem</span><span class="ohl-operator">.</span><span class="ohl-name">text</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>Кликнутая ссылка<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span>
                            <span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span>
                            <span class="ohl-keyword">this</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span>
        <span class="ohl-punctuation">}</span>
    <span class="ohl-punctuation">}</span>
<span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span>
<span class="ohl-punctuation">{</span>
    <span class="ohl-name">live</span><span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-declaration">function</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span>
        <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">liveInitOnBlockInsideInit</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-link<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span>
    <span class="ohl-punctuation">}</span>
<span class="ohl-punctuation">}</span>
<span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span></pre><p class="b-text__p">Метод <tt>.liveCtxBind()</tt> реализует возможность реакции на bem-события блоков, вложенных в какой-либо <tt>DOM</tt> элемент. <b>Это не DOM-события</b><br/> Использование <tt>live</tt> событий позволяет избежать лишнего поиска блоков в <tt>DOM</tt> дереве. Кроме того, при такой привязке к событию реакция на событие блока из контейнера будет происходить даже в том случае, если на момент привязки блока в контейнере не было, а он появился позже в результате динамического изменения документа.</p><p class="b-text__p">Кроме возможности привязки к <tt>live</tt> событию блока, здесь также продемонстрированы <a class="b-link" href="#blocks.finding">поиск блока относительно текущего</a> и <a class="b-link" href="#liveinit">live-инициалиация</a>.<br/></p></div></td></tr></table><h5 class="b-text__h5 b-blocks-desc__entity-group">Элементы</h5><table class="b-layout-table b-layout-table_layout_25-75"><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><div class="b-blocks-desc__entity-filename">__dom</div></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"><h3 class="b-text__h3 b-blocks-desc__doc-header" id="__dom">Хелперы для работы с DOM-представлением</h3></td></tr><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><tt class="b-blocks-desc__entity-bemjson">{ elem: 'dom' }</tt></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"></td></tr></table><table class="b-layout-table b-layout-table_layout_25-75"><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><div class="b-blocks-desc__entity-filename">__dom_init</div></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"><h3 class="b-text__h3 b-blocks-desc__doc-header" id="__dom_init"></h3></td></tr></table><table class="b-layout-table b-layout-table_layout_25-75"><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><div class="b-blocks-desc__entity-filename">__dom_init_auto</div><tt class="b-blocks-desc__entity-bemjson">{ elemMods: { 'init': 'auto' } }</tt></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"><h3 class="b-text__h3 b-blocks-desc__doc-header" id="__dom_init_auto"></h3></td></tr></table><table class="b-layout-table b-layout-table_layout_25-75"><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><div class="b-blocks-desc__entity-filename">__html</div></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"><h3 class="b-text__h3 b-blocks-desc__doc-header" id="__html">Реализация HTML представления блоков</h3></td></tr><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><tt class="b-blocks-desc__entity-bemjson">{ elem: 'html' }</tt></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"></td></tr></table><table class="b-layout-table b-layout-table_layout_25-75"><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><div class="b-blocks-desc__entity-filename">__internal</div></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"><h3 class="b-text__h3 b-blocks-desc__doc-header" id="__internal">Модуль для внутренних хелперов</h3></td></tr><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><tt class="b-blocks-desc__entity-bemjson">{ elem: 'internal' }</tt></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"></td></tr></table><h5 class="b-text__h5 b-blocks-desc__entity-group">Примеры</h5><div class="b-block-example" id="15-i-bem_click"><h4 class="b-text__h4">Обработчик события click</h4><div class="b-text"><p class="b-text__p">BEM-js позволяет инициализировать компонент только тогда, когда пользователь начал с ним работать.</p><p class="b-text__p">В примерре клик на квадрат включает/выключает модификатор <tt>color_green</tt> у блока <tt>b-square</tt>.</p><p class="b-text__p">Для того, чтобы работал BEM-js, у блока должен быть модификатор <tt>is-bem:&quot;yes&quot;</tt> и проставлен атрибут <tt>onclick</tt>. Это выполняется автоматически при помощи шаблона по-моде <tt>js:true</tt>.</p><p class="b-text__p">Java-script инициализация блока происходит при помощи <tt>live</tt>-события, подробнее о работе которого можно прочесть в документации на блок <a class="b-link" href="/blocks/i-bem/i-bem.wiki">i-bem</a>.</p></div><iframe class="b-block-example__iframe" src="examples/15-i-bem_click.html"></iframe><a class="b-link b-block-example__source" href="https://github.com/bem/bem-bl/tree/gh-pages/blocks-desktop/i-bem/examples/15-i-bem_click.bemjson.js">исходный код</a><a class="b-link b-block-example__source" href="https://github.com/bem/bem-bl/tree/gh-pages/blocks-desktop/i-bem/examples/15-i-bem_click.blocks/">уровень преопределения</a><a class="b-link b-block-example__source" href="https://github.com/bem/bem-bl/tree/gh-pages/sets/common-desktop/i-bem/examples/">скомпилированный код</a></div><div class="b-block-example" id="17-i-bem_square"><h4 class="b-text__h4">Изменение модификатора блока по-клику</h4><iframe class="b-block-example__iframe" src="examples/17-i-bem_square.html"></iframe><a class="b-link b-block-example__source" href="https://github.com/bem/bem-bl/tree/gh-pages/blocks-desktop/i-bem/examples/17-i-bem_square.bemjson.js">исходный код</a><a class="b-link b-block-example__source" href="https://github.com/bem/bem-bl/tree/gh-pages/blocks-desktop/i-bem/examples/17-i-bem_square.blocks/">уровень преопределения</a><a class="b-link b-block-example__source" href="https://github.com/bem/bem-bl/tree/gh-pages/sets/common-desktop/i-bem/examples/">скомпилированный код</a></div><div class="b-block-example" id="20-i-bem_liveinit-multiple"><h4 class="b-text__h4">LiveInit по нескольким событиям</h4><div class="b-text"><p class="b-text__p">Наведение на кнопку включает «профилактику», а клик по другой кнопке выключает её. На любое из этих действий блок реагирует, заворачиваясь в красную рамочку.</p><p class="b-text__p">Это поведение описано в js-коде блока <tt>b-tv</tt>. Инициализация блока происходит по двум событиям: наверении курсора на один элемент или клике на другой.</p><p class="b-text__p">Возможность задать несколько сценариев инициализации позволяет реализовывать сложные блоки, работу с которыми пользователь может начинать по-разному.</p></div><iframe class="b-block-example__iframe" src="examples/20-i-bem_liveinit-multiple.html"></iframe><a class="b-link b-block-example__source" href="https://github.com/bem/bem-bl/tree/gh-pages/blocks-desktop/i-bem/examples/20-i-bem_liveinit-multiple.bemjson.js">исходный код</a><a class="b-link b-block-example__source" href="https://github.com/bem/bem-bl/tree/gh-pages/blocks-desktop/i-bem/examples/20-i-bem_liveinit-multiple.blocks/">уровень преопределения</a><a class="b-link b-block-example__source" href="https://github.com/bem/bem-bl/tree/gh-pages/sets/common-desktop/i-bem/examples/">скомпилированный код</a></div><div class="b-block-example" id="40-i-bem_extend"><h4 class="b-text__h4">Изменение/дополнение стандартного поведения блока через модификатор</h4><div class="b-text"><p class="b-text__p">В примере используется стандартный блок <tt>b-link</tt>. Модификатор <tt>pseudo: &quot;yes&quot;</tt> позволяет воспользоваться BEM-js этого блока. Этот js отслеживает событие onclick на ссылке и использует preventDefault, благодаря которому несмотря на наличие href в ссылке, пользователь после клика не уходит со страницы.</p><p class="b-text__p">Для того, чтобы реализовать свою реакцию на ссылку, не нужно повторять этот код. Достаточно доопределить поведение блока. Это делается при помощи BEM-js для кастомного модификатора <tt>action: &quot;alert&quot;</tt>.</p><p class="b-text__p">В JS-декларации блока указано, что файл описывает только поведение блоков b-link с модификатором action в значении alert. Опредлён метод _onClick (такой же как в файле <tt>b-link_pseudo_yes.js</tt> из общей библиотеки блоков, который является для него родительских.</p><p class="b-text__p">Вызов родительского метода осуществляется через конструкцию <tt>&quot;&quot;this.<u>base.apply&quot;&quot;</u></tt> с передачей необходимых параметров.</p></div><iframe class="b-block-example__iframe" src="examples/40-i-bem_extend.html"></iframe><a class="b-link b-block-example__source" href="https://github.com/bem/bem-bl/tree/gh-pages/blocks-desktop/i-bem/examples/40-i-bem_extend.bemjson.js">исходный код</a><a class="b-link b-block-example__source" href="https://github.com/bem/bem-bl/tree/gh-pages/blocks-desktop/i-bem/examples/40-i-bem_extend.blocks/">уровень преопределения</a><a class="b-link b-block-example__source" href="https://github.com/bem/bem-bl/tree/gh-pages/sets/common-desktop/i-bem/examples/">скомпилированный код</a></div><div class="b-block-example" id="60-i-bem_pseudo-link"><h4 class="b-text__h4">Реакция на события вложенных блоков (1)</h4><div class="b-text"><p class="b-text__p">Блок «видит» вложенные в его блоки и может, например, реагировать на их события. Это позволяет реиспользовать существующие компоненты и собирать свои блоки из имеющихся.</p></div><iframe class="b-block-example__iframe" src="examples/60-i-bem_pseudo-link.html"></iframe><a class="b-link b-block-example__source" href="https://github.com/bem/bem-bl/tree/gh-pages/blocks-desktop/i-bem/examples/60-i-bem_pseudo-link.bemjson.js">исходный код</a><a class="b-link b-block-example__source" href="https://github.com/bem/bem-bl/tree/gh-pages/blocks-desktop/i-bem/examples/60-i-bem_pseudo-link.blocks/">уровень преопределения</a><a class="b-link b-block-example__source" href="https://github.com/bem/bem-bl/tree/gh-pages/sets/common-desktop/i-bem/examples/">скомпилированный код</a></div></div><fb:comments class="b-fb__comments b-fb i-bem" onclick="return {&quot;b-fb&quot;:{}}" num_posts="10" width="500"></fb:comments></div></div></body></html>