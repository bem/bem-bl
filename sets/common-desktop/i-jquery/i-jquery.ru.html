<!DOCTYPE html><html class="i-ua_js_no i-ua_css_standard" xmlns:fb="http://ogp.me/ns/fb#"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7, IE=edge"/><title>i-jquery: Схема подключения библиотеки jQuery</title><meta property="fb:app_id" content="352298414783700"/><script>;(function(d,e,c,r){e=d.documentElement;c="className";r="replace";e[c]=e[c][r]("i-ua_js_no","i-ua_js_yes");if(d.compatMode!="CSS1Compat")e[c]=e[c][r]("i-ua_css_standart","i-ua_css_quirks")})(document);</script><!--[if gt IE 7]><!--><link rel="stylesheet" href="_i-jquery.ru.css"/><!--<![endif]--><!--[if lt IE 8]><link rel="stylesheet" href="_i-jquery.ru.ie.css"/><![endif]--><script src="http://yandex.st/jquery/1.6.2/jquery.min.js"></script><script src="i-jquery.ru.js"></script></head><body class="b-page__body b-page"><!-- Yandex.Metrika counter --><div style="display:none;"><script type="text/javascript">(function(w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter10053391 = new Ya.Metrika({id:10053391, enableAll: true, trackHash:true}); } catch(e) { } }); })(window, "yandex_metrika_callbacks");</script></div><script src="//mc.yandex.ru/metrika/watch.js" type="text/javascript" defer="defer"></script><noscript><div><img src="//mc.yandex.ru/watch/10053391" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter --><div class="b-page__i"><div class="b-page__i"><div class="b-breadcrumbs"><div class="b-menu-horiz b-menu-horiz_layout_horiz i-bem" onclick="return {&quot;b-menu-horiz&quot;:{}}"><div class="b-menu-horiz__layout-unit b-menu-horiz__layout-unit_position_first b-menu-horiz__layout-unit_position_last"><div class="b-menu-horiz__item"><a class="b-link" href="/">Index</a></div></div></div></div><div class="b-blocks-desc"><h1 class="b-text__h1">Схема подключения библиотеки jQuery</h1><table class="b-layout-table b-layout-table_layout_25-75"><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><tt class="b-blocks-desc__entity-bemjson">{ block: 'i-jquery' }</tt></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"><div class="b-text"><p class="b-text__p">Используется для поставки на страницу нужных плагинов через зависимости блоков от элементов блока <tt>i-jquery</tt>.</p></div><div class="b-text"><p class="b-text__p">Блок <tt>i-jquery</tt> помогает подключить <tt>jQuery</tt> на страницу и упорядочивает хранение js-кода плагинов.</p><p class="b-text__p">На уровне <tt>blocks-common</tt> блок <tt>i-jquery</tt> состоит из нескольких элементов, которые содержат плагины к <tt>jQuery</tt>. Декларация этих элементов обеспечивает подключение этих плагинов в страничный <tt>JS</tt>.<br/></p><p class="b-text__p">На уровне <tt>blocks-desktop</tt> есть дополнительный элемент <tt>core</tt>.</p><p class="b-text__p">Таким образом, для того, чтобы поддерживаемая версия <tt>jQuery</tt> оказалась на страницах, нужно использовать такой <tt>BEMJSON</tt>:</p><pre class="ohl ohl_lang_js"><span class="ohl-punctuation">(</span><span class="ohl-punctuation">{</span>
    <span class="ohl-name">block</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-page<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span>
    <span class="ohl-name">title</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>Страница про ссылку<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span>
    <span class="ohl-name">head</span><span class="ohl-operator">:</span> <span class="ohl-punctuation">[</span>
        <span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>
        <span class="ohl-punctuation">{</span> <span class="ohl-name">block</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>i-jquery<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-name">elem</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>core<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span>
        <span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>
    <span class="ohl-punctuation">]</span><span class="ohl-punctuation">,</span></pre><p class="b-text__p">Этот шаблон не продуцирует <tt>DOM</tt>-представление элемента. Он декларирует использование на странице элемента <tt>js</tt>, блока <tt>b-page</tt>, подключающего <tt>js</tt> с <tt>jQuery</tt>.</p><p class="b-text__p">Если мы решим перейти на новую версию библиотеки, просто изменим этот шаблон. И тогда у всех проектов, подключавших <tt>jQuery</tt> не вручную, а через блок <tt>i-jquery</tt>, своевременно изменится версия.</p><p class="b-text__p">Можно перезаписать этот базовый шаблон <tt>BEMHTML</tt> шаблоном на своём уровне переопределения (для всего проекта или только для некоторых страниц). В этом случае, используя те же самые входные данные, можно получать более подходящий проекту результат.</p><p class="b-text__p">В директории элемента <tt>core</tt> в виде кода модификаторов элемента размещены совместимые с библиотекой версии <tt>jQuery</tt> в минимизированном состоянии. При помощи переопределения <tt>BEMHTML</tt> шаблона такими файлами можно пользоваться для оффлайн-разработки:</p><pre class="ohl ohl_lang_js"><span class="ohl-name">block</span> <span class="ohl-name">i</span><span class="ohl-operator">-</span><span class="ohl-name">jquery</span><span class="ohl-punctuation">,</span> <span class="ohl-name">elem</span> <span class="ohl-name">core</span><span class="ohl-punctuation">,</span> <span class="ohl-keyword">default</span><span class="ohl-operator">:</span> <span class="ohl-punctuation">{</span>
    <span class="ohl-name">local</span><span class="ohl-punctuation">(</span>
        <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">_mode</span> <span class="ohl-operator">=</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span><span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span>
        <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">ctx</span> <span class="ohl-operator">=</span> <span class="ohl-punctuation">{</span>
            <span class="ohl-name">block</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-page<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span>
            <span class="ohl-name">elem</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>js<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span>
            <span class="ohl-name">url</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>/bem-bl/blocks-desktop/i-jquery/__core/_version/i-jquery__core_version_1.6.2.js<span class="ohl-punctuation">&apos;</span></span>
        <span class="ohl-punctuation">}</span>
    <span class="ohl-punctuation">)</span> <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">apply</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span>
<span class="ohl-punctuation">}</span></pre></div></td></tr></table><h5 class="b-text__h5 b-blocks-desc__entity-group">Модификаторы</h5><table class="b-layout-table b-layout-table_layout_25-75"><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><div class="b-blocks-desc__entity-filename">_dummy</div></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"><h3 class="b-text__h3 b-blocks-desc__doc-header" id="_dummy"></h3></td></tr></table><table class="b-layout-table b-layout-table_layout_25-75"><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><div class="b-blocks-desc__entity-filename">_dummy_no</div></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"><h3 class="b-text__h3 b-blocks-desc__doc-header" id="_dummy_no">Полноценная копия настоящего jQuery</h3></td></tr><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><tt class="b-blocks-desc__entity-bemjson">{ mods: { 'dummy': 'no' } }</tt></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"></td></tr></table><table class="b-layout-table b-layout-table_layout_25-75"><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><div class="b-blocks-desc__entity-filename">_dummy_yes</div></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"><h3 class="b-text__h3 b-blocks-desc__doc-header" id="_dummy_yes">Необходимый минимум для работы кода, зависящего от jQuery вне браузера (например в NodeJS)</h3></td></tr><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><tt class="b-blocks-desc__entity-bemjson">{ mods: { 'dummy': 'yes' } }</tt></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"></td></tr></table><h5 class="b-text__h5 b-blocks-desc__entity-group">Элементы</h5><table class="b-layout-table b-layout-table_layout_25-75"><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><div class="b-blocks-desc__entity-filename">__cookie</div></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"><h3 class="b-text__h3 b-blocks-desc__doc-header" id="__cookie"></h3></td></tr><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><tt class="b-blocks-desc__entity-bemjson">{ elem: 'cookie' }</tt></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"></td></tr></table><table class="b-layout-table b-layout-table_layout_25-75"><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><div class="b-blocks-desc__entity-filename">__debounce</div></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"><h3 class="b-text__h3 b-blocks-desc__doc-header" id="__debounce">Debounce and throttle function's decorator plugin 1.0.6</h3></td></tr><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><tt class="b-blocks-desc__entity-bemjson">{ elem: 'debounce' }</tt></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"></td></tr></table><table class="b-layout-table b-layout-table_layout_25-75"><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><div class="b-blocks-desc__entity-filename">__identify</div></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"><h3 class="b-text__h3 b-blocks-desc__doc-header" id="__identify">Плагин для уникализации и идентификации объектов</h3></td></tr><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><tt class="b-blocks-desc__entity-bemjson">{ elem: 'identify' }</tt></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"></td></tr></table><table class="b-layout-table b-layout-table_layout_25-75"><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><div class="b-blocks-desc__entity-filename">__inherit</div></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"><h3 class="b-text__h3 b-blocks-desc__doc-header" id="__inherit">Плагин для наследования</h3></td></tr><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><tt class="b-blocks-desc__entity-bemjson">{ elem: 'inherit' }</tt></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"></td></tr></table><table class="b-layout-table b-layout-table_layout_25-75"><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><div class="b-blocks-desc__entity-filename">__is-empty-object</div></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"><h3 class="b-text__h3 b-blocks-desc__doc-header" id="__is-empty-object">Плагин, реализующий $.isEmptyObject для jQuery < 1.4</h3></td></tr><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><tt class="b-blocks-desc__entity-bemjson">{ elem: 'is-empty-object' }</tt></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"></td></tr></table><table class="b-layout-table b-layout-table_layout_25-75"><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><div class="b-blocks-desc__entity-filename">__leftclick</div></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"><h3 class="b-text__h3 b-blocks-desc__doc-header" id="__leftclick">Плагин, позволяющий навешивать обработчики событий на нажатие только левой клавиши манипулятора типа мышь</h3></td></tr><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><tt class="b-blocks-desc__entity-bemjson">{ elem: 'leftclick' }</tt></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"></td></tr></table><table class="b-layout-table b-layout-table_layout_25-75"><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><div class="b-blocks-desc__entity-filename">__observable</div></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"><h3 class="b-text__h3 b-blocks-desc__doc-header" id="__observable">Плагин, реализующий событийную модель для произвольных объектов</h3></td></tr><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><tt class="b-blocks-desc__entity-bemjson">{ elem: 'observable' }</tt></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"></td></tr></table><table class="b-layout-table b-layout-table_layout_25-75"><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><div class="b-blocks-desc__entity-filename">__stringify</div></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"><h3 class="b-text__h3 b-blocks-desc__doc-header" id="__stringify">Плагин для сериализации объектов в JSON-строку</h3></td></tr><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><tt class="b-blocks-desc__entity-bemjson">{ elem: 'stringify' }</tt></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"></td></tr></table><table class="b-layout-table b-layout-table_layout_25-75"><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><div class="b-blocks-desc__entity-filename">__core</div></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"><h3 class="b-text__h3 b-blocks-desc__doc-header" id="__core">Элемент, подключающий библиотеку jQuery к странице</h3></td></tr><tr class="b-layout-table__row"><td class="b-layout-table__cell b-blocks-desc__entity-data"><div class="b-layout-table__inner"><tt class="b-blocks-desc__entity-bemjson">{ elem: 'core' }</tt></div></td><td class="b-layout-table__cell b-layout-table__cell_position_r"></td></tr></table></div><fb:comments class="b-fb__comments b-fb i-bem" onclick="return {&quot;b-fb&quot;:{}}" num_posts="10" width="500"></fb:comments></div></div></body></html>