<!DOCTYPE html><html class="i-ua_js_no i-ua_css_standard" xmlns:fb="http://ogp.me/ns/fb#"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7, IE=edge"/><title>Основные понятия шаблонизатора BEMHTML</title><meta property="fb:app_id" content="352298414783700"/><script>;(function(d,e,c,r){e=d.documentElement;c="className";r="replace";e[c]=e[c][r]("i-ua_js_no","i-ua_js_yes");if(d.compatMode!="CSS1Compat")e[c]=e[c][r]("i-ua_css_standart","i-ua_css_quirks")})(document);</script><!--[if gt IE 7]><!--><link rel="stylesheet" href="_bemhtml-syntax.ru.css"/><!--<![endif]--><!--[if lt IE 8]><link rel="stylesheet" href="_bemhtml-syntax.ru.ie.css"/><![endif]--><script src="//yandex.st/jquery/1.6.2/jquery.min.js"></script><script src="bemhtml-syntax.ru.js"></script></head><body class="b-page__body b-page"><!-- Yandex.Metrika counter --><div style="display:none;"><script type="text/javascript">(function(w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter10053391 = new Ya.Metrika({id:10053391, enableAll: true, trackHash:true}); } catch(e) { } }); })(window, "yandex_metrika_callbacks");</script></div><script src="//mc.yandex.ru/metrika/watch.js" type="text/javascript" defer="defer"></script><noscript><div><img src="//mc.yandex.ru/watch/10053391" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter --><div class="b-page__i"><div class="b-page__i"><div class="b-breadcrumbs"><div class="b-menu-horiz b-menu-horiz_layout_horiz i-bem" onclick="return {&quot;b-menu-horiz&quot;:{}}"><div class="b-menu-horiz__layout-unit b-menu-horiz__layout-unit_position_first" onclick="return {&quot;b-menu-horiz__layout-unit&quot;:{}}"><div class="b-menu-horiz__item" onclick="return {&quot;b-menu-horiz__item&quot;:{}}"><a class="b-link" href="/">Список блоков</a></div></div><div class="b-menu-horiz__layout-unit b-menu-horiz__layout-unit_position_last" onclick="return {&quot;b-menu-horiz__layout-unit&quot;:{}}"><div class="b-menu-horiz__item b-menu-horiz__item_state_current" onclick="return {&quot;b-menu-horiz__item&quot;:{}}"><h1 class="b-page-title b-page-title_page_inner">/ Основные понятия шаблонизатора BEMHTML</h1></div></div></div></div><div class="b-blocks-desc"><div class="b-text"><h1 class="b-text__h1">Основные понятия шаблонизатора BEMHTML</h1><p class="b-text__p">BEMHTML — это шаблонизатор, использующий предметную область &quot;Блок-Элемент-Модификатор&quot;. Шаблоны, написанные на BEMHTML, компилируются в plain JavaScript, который может быть выполнен в любом интерпретаторе JavaScript (как на сервере, так и в браузере).</p><p class="b-text__p">Входными данными для таких шаблонов служит описание страницы в формате JSON, а на выходе получается HTML. Простой пример такого описания страницы находится в тестовом проекте библиотеки блоков: https:<i>github.com/bem/bem-bl-test/blob/master/pages/example/example.bemjson.js</i></p><p class="b-text__p">О том, что такое BEMHTML, расказывалось в докладе Сергея Бережного «bemhtml — bem js-шаблонизатор», можно посмотреть видео и почитать презентацию.</p><p class="b-text__p">BEMHTML-шаблоны построены по декларативному принципу (как XSLT).</p><p class="b-text__p">BEMHTML-шаблон состоит из двух частей: предикат и тело шаблона. Предикат – это набор условий, при котороых выполняется шаблон, а тело – инструкции к выполнению.</p><h2 class="b-text__h2">Предикаты</h2><p class="b-text__p">Предикат может состоять из одного или нескольких условий. Например:</p><p class="b-text__p">block b-menu, elem item, elemMod state current, tag:</p><p class="b-text__p">Запись через запятую означает, что шаблон применим только тогда, когда выполнятся все условия. Условия могут быть следующих типов:</p><ul class="b-text__ul"><li class="b-text__li">выражающие совпадение со входным БЭМ-деревом</li><li class="b-text__li">применяемая мода</li><li class="b-text__li">произвольное условие</li></ul><h3 class="b-text__h3">Условия совпадения со входным БЭМ-деревом</h3><p class="b-text__p">При помощи этих условий можно выразить совпадение со входным БЭМ-деревом. Например, можно описать, что шаблон применим к конкретному блоку. Возможны следующие описания БЭМ-сущностей, к которым применим шаблон:</p><ul class="b-text__ul"><li class="b-text__li"><b>предикат на блок</b><br/>
   <tt>block b-menu</tt></li><li class="b-text__li"><b>предикат на элемент блока</b><br/>
   <tt>block b-menu, elem item</tt></li><li class="b-text__li"><b>предикат на модификатор блока</b><br/>
   <tt>block b-link, mod pseudo yes</tt></li><li class="b-text__li"><b>предикат на модификатор элемента</b><br/>
   block b-menu, elem item, elemMod state current</li></ul><p class="b-text__p">Именами и значениями БЭМ-сущностей в таких условиях могут быть также JS-выражения:</p><pre class="ohl ohl_lang_js"><span class="ohl-name">block</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-operator">+</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>-<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-operator">+</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>link<span class="ohl-punctuation">&apos;</span></span></pre><pre class="ohl ohl_lang_js"><span class="ohl-name">block</span> <span class="ohl-name">b</span><span class="ohl-operator">-</span><span class="ohl-name">menu</span><span class="ohl-punctuation">,</span> <span class="ohl-name">elem</span> <span class="ohl-punctuation">[</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>i<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>t<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>e<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>m<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">]</span><span class="ohl-operator">.</span><span class="ohl-name">join</span><span class="ohl-punctuation">(</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span><span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">)</span></pre><h3 class="b-text__h3">Моды</h3><p class="b-text__p">Для каждого блока может понадобиться несколько шаблонов: для тела, для атрибутов, для контента. Поэтому есть необходимость вводить понятие мод. Наличие разных мод позволяет написать несколько шаблонов для одной и той же БЭМ-сущности, каждый из которых продуцирует свою часть выходного HTML этой БЭМ-сущности.</p><p class="b-text__p">Реализованы следующие моды:</p><ul class="b-text__ul"><li class="b-text__li"><b>default</b><br/>
   С обработки моды <tt>default</tt> начинается работа любого bemhtml-шаблона. Если мода default явно не фигурирует в bemhtml-шаблоне, то работа происходит
      так, как описано в ядре (bemhtml-реализация элемента html блока i-bem): https:<i>github.com/bem/bem-bl/blob/master/blocks-common/i-bem/</i><u>html/i-bem</u>html.bemhtml Там описано, в каких случаях и в каком порядке вызывать другие моды, относящиеся к контекстной БЭМ-сущности.</li><li class="b-text__li"><b>bem</b><br/>
   При установке в false позволяет не создавать у DOM-ноды данной БЭМ-сущности характерных CSS-классов в предметной области БЭМ.</li><li class="b-text__li"><b>js</b><br/>
   При установке в true говорит о том, что у блока есть клиентский JavaScript, значит, блок будет смиксован с блоком i-bem (появится дополнительный CSS-класс) и в его DOM-ноде появится атрибут onclick, хранящий параметры для клиентского js-компонента.</li></ul><pre class="ohl ohl_lang_js"><span class="ohl-name">block</span> <span class="ohl-name">b</span><span class="ohl-operator">-</span><span class="ohl-name">link</span> <span class="ohl-punctuation">{</span>
    <span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>
	<span class="ohl-name">js</span><span class="ohl-operator">:</span> <span class="ohl-keyword ohl-keyword-constant">true</span>
	<span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>
<span class="ohl-punctuation">}</span></pre><ul class="b-text__ul"><li class="b-text__li"><b>tag</b><br/>
   Переопределяет HTML-тег БЭМ-сущности, который по умолчанию задан как div.</li></ul><pre class="ohl ohl_lang_js"><span class="ohl-name">block</span> <span class="ohl-name">b</span><span class="ohl-operator">-</span><span class="ohl-name">icon</span> <span class="ohl-punctuation">{</span>
    <span class="ohl-name">tag</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>img<span class="ohl-punctuation">&apos;</span></span>
    <span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>
<span class="ohl-punctuation">}</span></pre><ul class="b-text__ul"><li class="b-text__li"><b>attrs</b><br/>
   Расширяет множество атрибутов DOM-ноды БЭМ-сущности дополнительными значениями.</li></ul><pre class="ohl ohl_lang_js"><span class="ohl-name">block</span> <span class="ohl-name">b</span><span class="ohl-operator">-</span><span class="ohl-name">icon</span> <span class="ohl-punctuation">{</span>
    <span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>
    <span class="ohl-name">attrs</span><span class="ohl-operator">:</span> <span class="ohl-punctuation">{</span>

        <span class="ohl-keyword">return</span> <span class="ohl-punctuation">{</span><span class="ohl-punctuation">}</span><span class="ohl-punctuation">;</span>

    <span class="ohl-punctuation">}</span>
<span class="ohl-punctuation">}</span></pre><ul class="b-text__ul"><li class="b-text__li"><b>cls</b><br/>
   Добавка к HTML-атрибуту class.</li><li class="b-text__li"><b>mix</b><br/>
   Определяет массив подмешиваемых БЭМ-сущностей. Используется для размещения на одном DOM-узле нескольких БЭМ-сущностей. Например, двух блоков, одного блока или элемента другого блока.<br/>
   Также нужен для подмешивания к существующей контекстной сущности модификаторов внутри bemhtml-шаблонов.</li><li class="b-text__li"><b>content</b><br/>
   Определяет содержание блока или элемента. Содержит bemjson, описывающий содержание или строку как частный случай простого bemjson.</li></ul><pre class="ohl ohl_lang_js"><span class="ohl-name">block</span> <span class="ohl-name">b</span><span class="ohl-operator">-</span><span class="ohl-name">layout</span><span class="ohl-operator">-</span><span class="ohl-name">table</span><span class="ohl-punctuation">,</span> <span class="ohl-name">elem</span> <span class="ohl-name">gap</span> <span class="ohl-punctuation">{</span>
    <span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>
    <span class="ohl-name">content</span><span class="ohl-operator">:</span> <span class="ohl-punctuation">{</span> <span class="ohl-name">elem</span><span class="ohl-operator">:</span>  <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>gap-i<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-name">tag</span><span class="ohl-operator">:</span>  <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>i<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span><span class="ohl-punctuation">}</span>
<span class="ohl-punctuation">}</span></pre><h3 class="b-text__h3">Произвольное условие</h3><p class="b-text__p">Произвольные условия учитывают совпадения с данными, не попадающими под предметную область БЭМ. Например,</p><pre class="ohl ohl_lang_js"><span class="ohl-name">block</span> <span class="ohl-name">b</span><span class="ohl-operator">-</span><span class="ohl-name">icon</span> <span class="ohl-punctuation">{</span>
    <span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>
    <span class="ohl-name">attrs</span><span class="ohl-punctuation">,</span> <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">ctx</span><span class="ohl-operator">.</span><span class="ohl-name">url</span><span class="ohl-operator">:</span> <span class="ohl-punctuation">{</span>

        <span class="ohl-keyword">return</span> <span class="ohl-punctuation">{</span> <span class="ohl-name">src</span><span class="ohl-operator">:</span> <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">ctx</span><span class="ohl-operator">.</span><span class="ohl-name">url</span> <span class="ohl-punctuation">}</span><span class="ohl-punctuation">;</span>

    <span class="ohl-punctuation">}</span>
<span class="ohl-punctuation">}</span></pre><p class="b-text__p">Здесь <tt>this.ctx</tt> — хеш с данными контекстной сущности из bemjson, в данном случае — блока b-icon.</p><p class="b-text__p">Последнее из условий предиката отделено от тела шаблона двоеточием:</p><pre class="ohl ohl_lang_js"><span class="ohl-name">block</span> <span class="ohl-name">b</span><span class="ohl-operator">-</span><span class="ohl-name">icon</span><span class="ohl-punctuation">,</span> <span class="ohl-name">attrs</span><span class="ohl-punctuation">,</span> <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">ctx</span><span class="ohl-operator">.</span><span class="ohl-name">url</span><span class="ohl-operator">:</span> <span class="ohl-punctuation">{</span>
    Тело шаблона
<span class="ohl-punctuation">}</span></pre><h2 class="b-text__h2">Тело</h2><p class="b-text__p">После двоеточия bemhtml шаблон может содержать:</p><ul class="b-text__ul"><li class="b-text__li"><b>boolean, строку или число</b><br/></li></ul><pre class="ohl ohl_lang_js"><span class="ohl-name">block</span> <span class="ohl-name">b</span><span class="ohl-operator">-</span><span class="ohl-name">icon</span> <span class="ohl-punctuation">{</span>
    <span class="ohl-name">tag</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>img<span class="ohl-punctuation">&apos;</span></span>
    <span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>
<span class="ohl-punctuation">}</span></pre><ul class="b-text__ul"><li class="b-text__li"><b>bemjson</b><br/></li></ul><pre class="ohl ohl_lang_js"><span class="ohl-name">block</span> <span class="ohl-name">b</span><span class="ohl-operator">-</span><span class="ohl-name">layout</span><span class="ohl-operator">-</span><span class="ohl-name">table</span><span class="ohl-punctuation">,</span> <span class="ohl-name">elem</span> <span class="ohl-name">gap</span> <span class="ohl-punctuation">{</span>
    <span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>
    <span class="ohl-name">content</span><span class="ohl-operator">:</span> <span class="ohl-punctuation">{</span> <span class="ohl-name">elem</span><span class="ohl-operator">:</span>  <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>gap-i<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-name">tag</span><span class="ohl-operator">:</span>  <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>i<span class="ohl-punctuation">&apos;</span></span> <span class="ohl-punctuation">}</span>
<span class="ohl-punctuation">}</span></pre><ul class="b-text__ul"><li class="b-text__li"><b>исполняемый JavaScript код (заключённый в фигурные скобки)</b><br/></li></ul><pre class="ohl ohl_lang_js"><span class="ohl-name">block</span> <span class="ohl-name">b</span><span class="ohl-operator">-</span><span class="ohl-name">icon</span> <span class="ohl-punctuation">{</span>
    <span class="ohl-operator">.</span><span class="ohl-operator">.</span><span class="ohl-operator">.</span>
    <span class="ohl-name">attrs</span><span class="ohl-operator">:</span> <span class="ohl-punctuation">{</span>

        <span class="ohl-keyword ohl-keyword-declaration">var</span> <span class="ohl-name">ctx</span> <span class="ohl-operator">=</span> <span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">ctx</span><span class="ohl-punctuation">,</span>
            <span class="ohl-name">a</span> <span class="ohl-operator">=</span> <span class="ohl-punctuation">{</span> <span class="ohl-name">src</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>//yandex.st/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-name">alt</span><span class="ohl-operator">:</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span><span class="ohl-punctuation">&apos;</span></span> <span class="ohl-punctuation">}</span><span class="ohl-punctuation">,</span>
            <span class="ohl-name">props</span> <span class="ohl-operator">=</span> <span class="ohl-punctuation">[</span><span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>src<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>alt<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>width<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">,</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>height<span class="ohl-punctuation">&apos;</span></span><span class="ohl-punctuation">]</span><span class="ohl-punctuation">,</span> <span class="ohl-name">p</span><span class="ohl-punctuation">;</span>

        <span class="ohl-keyword">while</span><span class="ohl-punctuation">(</span><span class="ohl-name">p</span> <span class="ohl-operator">=</span> <span class="ohl-name">props</span><span class="ohl-operator">.</span><span class="ohl-name">shift</span><span class="ohl-punctuation">(</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">)</span> <span class="ohl-name">ctx</span><span class="ohl-punctuation">[</span><span class="ohl-name">p</span><span class="ohl-punctuation">]</span> <span class="ohl-operator">&amp;&amp;</span> <span class="ohl-punctuation">(</span><span class="ohl-name">a</span><span class="ohl-punctuation">[</span><span class="ohl-name">p</span><span class="ohl-punctuation">]</span> <span class="ohl-operator">=</span> <span class="ohl-name">ctx</span><span class="ohl-punctuation">[</span><span class="ohl-name">p</span><span class="ohl-punctuation">]</span><span class="ohl-punctuation">)</span><span class="ohl-punctuation">;</span>

        <span class="ohl-keyword">return</span> <span class="ohl-name">a</span><span class="ohl-punctuation">;</span>

    <span class="ohl-punctuation">}</span>
<span class="ohl-punctuation">}</span></pre><h2 class="b-text__h2">Контекст</h2><p class="b-text__p">Все шаблоны выполняются в каком-либо контексте. Контекст выражается ключевым словом this, доступным как в предикатах, так и в теле шаблона. В контексте есть набор полей:</p><ul class="b-text__ul"><li class="b-text__li"><b>this.block</b> {String}<br/>
   Например, может быть использован в предикате для сравнения значения:</li></ul><pre class="ohl ohl_lang_js"><span class="ohl-keyword">this</span><span class="ohl-operator">.</span><span class="ohl-name">block</span> <span class="ohl-operator">===</span> <span class="ohl-string ohl-string-single"><span class="ohl-punctuation">&apos;</span>b-link<span class="ohl-punctuation">&apos;</span></span></pre><p class="b-text__p">   Это идентично записи условия на языке БЭМ-сущностей</p><pre class="ohl ohl_lang_js"><span class="ohl-name">block</span> <span class="ohl-name">b</span><span class="ohl-operator">-</span><span class="ohl-name">link</span></pre><ul class="b-text__ul"><li class="b-text__li"><b>this.elem</b> {String}<br/>
   Имя элемента</li><li class="b-text__li"><b>this.mods</b> {Object}<br/>
   Модификаторы блока</li><li class="b-text__li"><b>this.elemMods</b> {Object}</li><li class="b-text__li"><b>this.ctx</b> {Object}<br/>
   Фрагмент входного дерева для текущего контекста. Входной JSON предоставляется &quot;as is&quot;, безо всяких нормализаций и модификаций. Используется для получения доступа к данным, например, this.ctx.url в шаблоне блока b-link.</li><li class="b-text__li"><b>this.isFirst</b> {Function}</li><li class="b-text__li"><b>this.isLast</b> {Function}</li><li class="b-text__li"><b>this.position</b> {Number}</li></ul><h2 class="b-text__h2">Синтаксис</h2><p class="b-text__p">Если у нескольких шаблонов часть предиката совпадает, их можно объединить, используя фигурные скобки. Например, так</p><pre class="ohl ohl_lang_js"><span class="ohl-name">block</span> <span class="ohl-name">b</span><span class="ohl-operator">-</span><span class="ohl-name">menu</span> <span class="ohl-punctuation">{</span>
    <span class="ohl-name">elem</span> <span class="ohl-name">item</span> <span class="ohl-punctuation">{</span>
        Здесь всё про <span class="ohl-name">b</span><span class="ohl-operator">-</span><span class="ohl-name">menu__item</span>
    <span class="ohl-punctuation">}</span>
<span class="ohl-punctuation">}</span></pre><p class="b-text__p">можно описать элемент item блока в b-menu.</p><p class="b-text__p">То же самое можно написать через запятую. Вот так:</p><pre class="ohl ohl_lang_js"><span class="ohl-name">block</span> <span class="ohl-name">b</span><span class="ohl-operator">-</span><span class="ohl-name">menu</span><span class="ohl-punctuation">,</span> <span class="ohl-name">elem</span> <span class="ohl-name">item</span> <span class="ohl-punctuation">{</span>
    Здесь всё про <span class="ohl-name">b</span><span class="ohl-operator">-</span><span class="ohl-name">menu__item</span>
<span class="ohl-punctuation">}</span></pre><p class="b-text__p">То есть, скобки — это syntax sugar над запятыми. Вложенность условий может быть сколь угодно большой.</p><h3 class="b-text__h3">local</h3><p class="b-text__p">local — это блок кода языка bemhtml, по синтаксису подобный блокам while и for из JavaScript. Возможны такие варианты записи блока local:</p><ul class="b-text__ul"><li class="b-text__li"><b>краткая запись</b><br/></li></ul><pre class="ohl ohl_lang_js"><span class="ohl-name">local</span><span class="ohl-punctuation">(</span><span class="ohl-name">expressions</span><span class="ohl-punctuation">)</span> <span class="ohl-name">code</span></pre><ul class="b-text__ul"><li class="b-text__li"><b>полная запись</b></li></ul><pre class="ohl ohl_lang_js"><span class="ohl-name">local</span><span class="ohl-punctuation">(</span><span class="ohl-name">expressions</span><span class="ohl-punctuation">)</span> <span class="ohl-punctuation">{</span>
    <span class="ohl-name">code</span>
<span class="ohl-punctuation">}</span></pre><p class="b-text__p">local используется для временного изменения контекста и переменных, также для последующих операций с ними. В круглых скобках могут быть описаны только выражения присваивания, в фигурных — JavaScript-код, который выполняется с учётом заданных изменений. По выходу из блока local все переменные и объекты (в том числе и this.ctx) приобретают свои прежние значения. Более подробную информацию можно найти в документации xjst: https:<i>github.com/veged/xjst/blob/master/doc/tech.ru.md</i></p></div></div><fb:comments class="b-fb__comments b-fb i-bem" onclick="return {&quot;b-fb&quot;:{}}" num_posts="10" width="500"></fb:comments></div></div></body></html>